<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML><HEAD><TITLE>发布9.1</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK REV="MADE" HREF="mailto:pgsql-docs@postgresql.org"><LINK REL="HOME" TITLE="PostgreSQL 9.3.1 中文手册" HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html"><LINK REL="UP" TITLE="版本说明" HREF="http://school.yunwei.edu/manual/PostgreSQL/release.html"><LINK REL="PREVIOUS" TITLE="发布9.1.1" HREF="release-9-1-1.html"><LINK REL="NEXT" TITLE="版本 9.0.14" HREF="release-9-0-14.html"><LINK REL="STYLESHEET" TYPE="text/css" HREF="http://school.yunwei.edu/manual/PostgreSQL/stylesheet.css"><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8"><META NAME="creation" CONTENT="2015-07-11T14:00:17"></HEAD><BODY CLASS="SECT1">
<div style="text-align:right">
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/issues/new" target="_blank" title="在Github上报告问题（请注明问题内容及所在章节）">问题报告</a>
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/edit/master/postgresql/doc/src/sgml/release-9.1.sgml" target="_blank" title="直接在Github上纠错本页面">纠错本页面</a>
</div>
<DIV CLASS="NAVHEADER"><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0"><TR><TH COLSPAN="5" ALIGN="center" VALIGN="bottom"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html">PostgreSQL 9.3.1 中文手册</A></TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="top"><A TITLE="发布9.1.1" HREF="release-9-1-1.html" ACCESSKEY="P">&#19978;&#19968;&#39029;</A></TD><TD WIDTH="10%" ALIGN="left" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/release.html" ACCESSKEY="U">&#19978;&#19968;&#32423;</A></TD><TD WIDTH="60%" ALIGN="center" VALIGN="bottom">&#38468;&#24405; E. 版本说明</TD><TD WIDTH="20%" ALIGN="right" VALIGN="top"><A TITLE="版本 9.0.14" HREF="release-9-0-14.html" ACCESSKEY="N">&#19979;&#19968;&#39029;</A></TD></TR></TABLE><HR ALIGN="LEFT" WIDTH="100%"></DIV><DIV CLASS="SECT1"><H1 CLASS="SECT1"><A NAME="RELEASE-9-1">E.19. 发布9.1</A></H1><DIV CLASS="NOTE"><BLOCKQUOTE CLASS="NOTE"><P><B>发布日期: </B>2011-09-12</P></BLOCKQUOTE></DIV><DIV CLASS="SECT2"><H2 CLASS="SECT2"><A NAME="AEN118622">E.19.1. 概述</A></H2><P> 该发布显示了<SPAN CLASS="PRODUCTNAME">PostgreSQL</SPAN>超越传统关系数据库功能设置为新，
突破性功能对<SPAN CLASS="PRODUCTNAME">PostgreSQL</SPAN>是唯一的。
发布9.0中介绍的流复制功能通过添加同步复制选项，流备份以及
监测改进而被显著增强。主要功能包含：</P><P></P><UL><LI><P> 允许<A HREF="warm-standby.html#SYNCHRONOUS-REPLICATION">同步复制</A></P></LI><LI><P> 添加支持<A HREF="sql-createforeigntable.html">外表</A></P></LI><LI><P> 添加每列<A HREF="collation.html">collation</A>支持</P></LI><LI><P> 添加<A HREF="extend-extensions.html">扩展</A>
这简化附加包到<SPAN CLASS="PRODUCTNAME">PostgreSQL</SPAN>。</P></LI><LI><P> 添加真的<A HREF="transaction-iso.html#XACT-SERIALIZABLE">可串行化隔离级别</A></P></LI><LI><P> 在<A HREF="sql-createtable.html"><TT CLASS="COMMAND">CREATE TABLE</TT></A>中
使用<TT CLASS="LITERAL">UNLOGGED</TT>选项支持未记录表</P></LI><LI><P> 允许<A HREF="queries-with.html"><TT CLASS="LITERAL">WITH</TT></A>子句中
数据修改命令(<TT CLASS="COMMAND">INSERT</TT>/<TT CLASS="COMMAND">UPDATE</TT>/<TT CLASS="COMMAND">DELETE</TT>)</P></LI><LI><P> 添加最近邻（算子排序）搜索到
<A HREF="http://school.yunwei.edu/manual/PostgreSQL/gist.html"><ACRONYM CLASS="ACRONYM">GiST</ACRONYM>索引</A></P></LI><LI><P> 添加<A HREF="sql-security-label.html"><TT CLASS="COMMAND">SECURITY LABEL</TT></A>
命令并且支持<A HREF="sepgsql.html"><ACRONYM CLASS="ACRONYM">SELinux</ACRONYM>权限控制</A></P></LI><LI><P> 更新<A HREF="http://school.yunwei.edu/manual/PostgreSQL/plpython.html">PL/Python</A>服务器端语言</P></LI></UL><P> 在下面部分将详细解释上面项。</P></DIV><DIV CLASS="SECT2"><H2 CLASS="SECT2"><A NAME="AEN118670">E.19.2. 迁移到版本9.1</A></H2><P> 使用<SPAN CLASS="APPLICATION">pg_dump</SPAN>或者<SPAN CLASS="APPLICATION">pg_upgrade</SPAN>
备份/恢复，
对于那些希望从任何以前发布中迁移数据是必须的。
</P><P> 版本9.1包含了可能影响与以前版本的兼容性的一些变化。
观察下面的不兼容性：</P><DIV CLASS="SECT3"><H3 CLASS="SECT3"><A NAME="AEN118676">E.19.2.1. 字符串</A></H3><P></P><UL><LI><P> 改变
<A HREF="runtime-config-compatible.html#GUC-STANDARD-CONFORMING-STRINGS"><TT CLASS="VARNAME">standard_conforming_strings</TT></A>
的缺省值(Robert Haas)</P><P> 缺省情况下，反斜杠是字符串中普通字符，
而不是转义字符。这一变化删除与SQL标准长期存在的不兼容。
<A HREF="runtime-config-compatible.html#GUC-ESCAPE-STRING-WARNING"><TT CLASS="VARNAME">escape_string_warning</TT></A>
有多年关于这个用法的警告。
<TT CLASS="LITERAL">E''</TT>字符串是嵌入反斜杠转义到字符串中的正确做法，
并且这种变化不受影响。</P><DIV CLASS="WARNING"><P></P><TABLE CLASS="WARNING" BORDER="1" WIDTH="90%"><TR><TD ALIGN="CENTER"><B>&#35686;&#21578;</B></TD></TR><TR><TD ALIGN="LEFT"><P> 这个变化可以打断不希望的应用，并且按照旧的规则执行字符串转义。
该结果可能与介绍的SQL注入安全中断一样严峻。
确保测试应用遭受不可信任输入，
确保它们正确处理单引号和文本字符串中反斜线符号。</P></TD></TR></TABLE></DIV></LI></UL></DIV><DIV CLASS="SECT3"><H3 CLASS="SECT3"><A NAME="AEN118689">E.19.2.2. 转换</A></H3><P></P><UL><LI><P> 不允许函数样式和属性样式数据类型转换为复合类型(Tom Lane)</P><P> 比如，不允许<TT CLASS="LITERAL"><TT CLASS="REPLACEABLE"><I>composite_value</I></TT>.text</TT>和
<TT CLASS="LITERAL">text(<TT CLASS="REPLACEABLE"><I>composite_value</I></TT>)</TT>。
该语法的无意识使用经常导致错误报告；
尽管它不是错误，似乎追溯到拒绝这样的表达式更好。
当实际上打算整个复合值计算时，
<TT CLASS="LITERAL">CAST</TT>和<TT CLASS="LITERAL">::</TT>语法仍然可以使用。</P></LI><LI><P> 加强基于数组的域转换检查(Tom Lane)</P><P> 当域是基于数组类型时，它被允许<SPAN CLASS="QUOTE">"查看"</SPAN>域类型访问数组元素，
包含下标域值抓取或者分配一个元素。
分配这样一个域值元素，比如通过<TT CLASS="LITERAL">UPDATE ... SET domaincol[5] = ...</TT>，
将导致检查域类型的约束，然而检查之前被忽略。</P></LI></UL></DIV><DIV CLASS="SECT3"><H3 CLASS="SECT3"><A NAME="AEN118706">E.19.2.3. 数组</A></H3><P></P><UL><LI><P> 改变
<A HREF="functions-array.html#ARRAY-FUNCTIONS-TABLE"><CODE CLASS="FUNCTION">string_to_array()</CODE></A>
为零长字符串返回空数组(Pavel Stehule)</P><P> 以前返回空值。</P></LI><LI><P> 改变
<A HREF="functions-array.html#ARRAY-FUNCTIONS-TABLE"><CODE CLASS="FUNCTION">string_to_array()</CODE></A>，
所以<TT CLASS="LITERAL">NULL</TT>分隔符分离字符串到字符(Pavel Stehule)</P><P> 先前这返回空值。</P></LI></UL></DIV><DIV CLASS="SECT3"><H3 CLASS="SECT3"><A NAME="AEN118720">E.19.2.4. 对象修改</A></H3><P></P><UL><LI><P> 修复触发器之前/之后的不当检查(Tom Lane)</P><P> 触发器可以在三种情况下被触发：<TT CLASS="LITERAL">BEFORE</TT>，
<TT CLASS="LITERAL">AFTER</TT>或者<TT CLASS="LITERAL">INSTEAD OF</TT>一些操作。
触发器函数发起者应该理智验证三种情况下它们的逻辑操作。</P></LI><LI><P> 需要超级用户或者<TT CLASS="LITERAL">CREATEROLE</TT>权限目的是设置评论角色(Tom Lane)</P></LI></UL></DIV><DIV CLASS="SECT3"><H3 CLASS="SECT3"><A NAME="AEN118732">E.19.2.5. 服务器设置</A></H3><P></P><UL><LI><P> 改变
<A HREF="functions-admin.html#FUNCTIONS-RECOVERY-INFO-TABLE"><CODE CLASS="FUNCTION">pg_last_xlog_receive_location()</CODE></A>
因此它不会向后移动(Fujii Masao)</P><P> 先前，当重新启动流复制的时候，<CODE CLASS="FUNCTION">pg_last_xlog_receive_location()</CODE>的值
可以向后移动。</P></LI><LI><P> 复制连接日志接受
<A HREF="runtime-config-logging.html#GUC-LOG-CONNECTIONS"><TT CLASS="VARNAME">log_connections</TT></A>
(Magnus Hagander)</P><P> 先前，复制连接总是被记录。</P></LI></UL></DIV><DIV CLASS="SECT3"><H3 CLASS="SECT3"><A NAME="AEN118746">E.19.2.6. <A HREF="http://school.yunwei.edu/manual/PostgreSQL/plpgsql.html">PL/pgSQL</A>服务器端语言</A></H3><P></P><UL><LI><P> 改变不带参数的PL/pgSQL的<TT CLASS="LITERAL">RAISE</TT>命令
为通过附属异常块可捕获(Piyush Newe)
</P><P> 以前代码块中<TT CLASS="LITERAL">RAISE</TT>总是限于附加异常块中，因此
在同一范围内是无法捕获的。</P></LI><LI><P> 调整PL/pgSQL的错误线编号代码与其他PL相一致(Pavel Stehule)</P><P> 先前，PL/pgSQL在函数体开始部分可能忽略（不计算）空行。
由于这是不符合所有其他语言的，特殊情况下被删除。</P></LI><LI><P> 使得PL/pgSQL抱怨IN和OUT参数名冲突(Tom Lane)</P><P> 以前，检测不到冲突，该名字可能就默默地指向OUT参数。&#13;</P></LI><LI><P> PL/pgSQL变量类型修饰符对于SQL分析器是可见的(Tom Lane)</P><P> 附属于PL/pgSQL变量的类型修饰符（比如varchar长度限制）
在分配之间被执行，但是出于其他目的被忽略。
这些变量操作更像声明了同一描述符的表列。
这不希望在多数情况下产生任何可见差异，
但是它可能产生通过PL/pgSQL函数发布的一些SQL命令的微妙变化。</P></LI></UL></DIV><DIV CLASS="SECT3"><H3 CLASS="SECT3"><A NAME="AEN118764">E.19.2.7. Contrib</A></H3><P></P><UL><LI><P> 所有contrib模块伴随
<A HREF="sql-createextension.html"><TT CLASS="COMMAND">CREATE EXTENSION</TT></A>
被安装而不是通过手动调用它们的SQL脚本(Dimitri Fontaine, Tom Lane)</P><P> 为了更新包含contrib模块9.0版本的现有数据库，
使用<TT CLASS="LITERAL">CREATE EXTENSION ... FROM unpackaged</TT>
封装现有contrib模块的对象到一个扩展中。
当从先前9.0版本中更新时，使用旧的卸载脚本删除contrib模块的对象，
然后使用<TT CLASS="LITERAL">CREATE EXTENSION</TT>。</P></LI></UL></DIV><DIV CLASS="SECT3"><H3 CLASS="SECT3"><A NAME="AEN118774">E.19.2.8. 其他的不兼容</A></H3><P></P><UL><LI><P> 使得<A HREF="monitoring-stats.html#MONITORING-STATS-FUNCS-TABLE"><CODE CLASS="FUNCTION">pg_stat_reset()</CODE></A>
重置所有数据库级别统计(Tomas Vondra)</P><P> 一些<TT CLASS="STRUCTNAME">pg_stat_database</TT>计数器没有被重置。</P></LI><LI><P> 修复一些
<A HREF="infoschema-triggers.html"><TT CLASS="STRUCTNAME">information_schema.triggers</TT></A>
列名匹配新的SQL标准名(Dean Rasheed)</P></LI><LI><P> 把<SPAN CLASS="APPLICATION">ECPG</SPAN>游标名看作不区分大小写(Zoltan Boszormenyi)</P></LI></UL></DIV></DIV><DIV CLASS="SECT2"><H2 CLASS="SECT2"><A NAME="AEN118790">E.19.3. 变化</A></H2><P> 下面你将发现在<SPAN CLASS="PRODUCTNAME">PostgreSQL</SPAN> 9.1
和以前主要发布之间的变化的详细列表。</P><DIV CLASS="SECT3"><H3 CLASS="SECT3"><A NAME="AEN118794">E.19.3.1. 服务器</A></H3><DIV CLASS="SECT4"><H4 CLASS="SECT4"><A NAME="AEN118796">E.19.3.1.1. 性能</A></H4><P></P><UL><LI><P> 支持
在<A HREF="sql-createtable.html"><TT CLASS="COMMAND">CREATE TABLE</TT></A>中
使用<TT CLASS="LITERAL">UNLOGGED</TT>选项的未记录表(Robert Haas)</P><P> 这个表提供了比常规表更好的更新性能，但是不安全：它们内容在
服务器崩溃的情况下被自动清除。
也不会被传送到备份子服务器。
</P></LI><LI><P> 允许<TT CLASS="LITERAL">FULL OUTER JOIN</TT>作为哈希连接被实现，
并且允许<TT CLASS="LITERAL">LEFT OUTER JOIN</TT>或者
<TT CLASS="LITERAL">RIGHT OUTER JOIN</TT>的一侧被哈希(Tom Lane)</P><P> 以前<TT CLASS="LITERAL">FULL OUTER JOIN</TT>只能作为合并连接被实现，
并且<TT CLASS="LITERAL">LEFT OUTER JOIN</TT>和
<TT CLASS="LITERAL">RIGHT OUTER JOIN</TT>可以哈希连接空侧。
这些变化提供了额外查询优化可能性。</P></LI><LI><P> 合并复制fsync请求(Robert Haas, Greg Smith)</P><P> 这大大提高了大量写入重载下性能。</P></LI><LI><P> 提高
<A HREF="runtime-config-wal.html#GUC-COMMIT-SIBLINGS"><TT CLASS="VARNAME">commit_siblings</TT></A>
的性能(Greg Smith)</P><P> 这允许较少开销的<TT CLASS="VARNAME">commit_siblings</TT>的使用。</P></LI><LI><P> 减少大的ispell词典存储需求(Pavel Stehule, Tom Lane)</P></LI><LI><P> 避免<SPAN CLASS="QUOTE">"盲写"</SPAN>后将数据文件打开(Alvaro Herrera)</P><P> 这修复它们被删除后后端保持文件打开时间，防止内核回收磁盘空间。</P></LI></UL></DIV><DIV CLASS="SECT4"><H4 CLASS="SECT4"><A NAME="AEN118829">E.19.3.1.2. 优化器</A></H4><P></P><UL><LI><P> 允许继承表扫描返回有意义的排序结果
(Greg Stark, Hans-Jurgen Schonig, Robert Haas, Tom Lane)</P><P> 这允许使用
<TT CLASS="LITERAL">ORDER BY</TT>，<TT CLASS="LITERAL">LIMIT</TT>
或者带有继承表的<TT CLASS="LITERAL">MIN</TT>/<TT CLASS="LITERAL">MAX</TT>
的查询的更好优化。</P></LI><LI><P> 提高GIN索引扫描成本估计(Teodor Sigaev)</P></LI><LI><P> 提高聚集和window函数成本估计(Tom Lane)</P></LI></UL></DIV><DIV CLASS="SECT4"><H4 CLASS="SECT4"><A NAME="AEN118843">E.19.3.1.3. 认证</A></H4><P></P><UL><LI><P> 在<A HREF="auth-pg-hba-conf.html"><TT CLASS="FILENAME">pg_hba.conf</TT></A>
中支持host名字和host后缀(比如<TT CLASS="LITERAL">.example.com</TT>)</P><P> 先前只支持host <ACRONYM CLASS="ACRONYM">IP</ACRONYM> 地址和<ACRONYM CLASS="ACRONYM">CIDR</ACRONYM>值。</P></LI><LI><P> 在<A HREF="auth-pg-hba-conf.html"><TT CLASS="FILENAME">pg_hba.conf</TT></A>的host列
支持关键字<TT CLASS="LITERAL">all</TT>(Peter Eisentraut)</P><P> 以前为了这个人们使用
<TT CLASS="LITERAL">0.0.0.0/0</TT>或者<TT CLASS="LITERAL">::/0</TT>。</P></LI><LI><P> 在不支持Unix套接字连接的平台上拒绝
<A HREF="auth-pg-hba-conf.html"><TT CLASS="FILENAME">pg_hba.conf</TT></A>中的
<TT CLASS="LITERAL">local</TT>行(Magnus Hagander)</P><P> 先前，默默忽略这样的行，这可能是令人惊讶的。
这使得该操作更像其他不支持的情况。</P></LI><LI><P> 允许<A HREF="auth-methods.html#GSSAPI-AUTH"><ACRONYM CLASS="ACRONYM">GSSAPI</ACRONYM></A>
通过<A HREF="auth-methods.html#SSPI-AUTH"><ACRONYM CLASS="ACRONYM">SSPI</ACRONYM></A>用于
验证到服务器(Christian Ullrich)</P><P> 特别是允许基于Unix <ACRONYM CLASS="ACRONYM">GSSAPI</ACRONYM>客户端执行
伴随Windows服务器的<ACRONYM CLASS="ACRONYM">SSPI</ACRONYM>认证。</P></LI><LI><P> 在区域套接字上的<A HREF="auth-methods.html#AUTH-IDENT"><TT CLASS="LITERAL">ident</TT></A>
认证被称为<A HREF="auth-methods.html#AUTH-PEER"><TT CLASS="LITERAL">peer</TT></A>
(Magnus Hagander)</P><P> 该旧的术语仍然接受向后兼容性，但是
因为这两种方法在根本上是不同的，
为它们采用不同的名字似乎更好。</P></LI><LI><P> 重写<A HREF="auth-methods.html#AUTH-PEER"><ACRONYM CLASS="ACRONYM">peer</ACRONYM></A>认证
以避免证书控制信息的使用(Tom Lane)</P><P> 这个变化使得同等验证码更加简单而且可执行性更好。然而，
它需要平台提供<CODE CLASS="FUNCTION">getpeereid</CODE>函数或者等效套接字操作。
按目前所知，之前同等认证执行唯一平台，
并且现在不是之前5.0 NetBSD。&#13;</P></LI></UL></DIV><DIV CLASS="SECT4"><H4 CLASS="SECT4"><A NAME="AEN118890">E.19.3.1.4. 监控</A></H4><P></P><UL><LI><P> 添加重启点和检查点记录详情，通过
<A HREF="runtime-config-logging.html#GUC-LOG-CHECKPOINTS"><TT CLASS="VARNAME">log_checkpoints</TT></A>控制
(Fujii Masao, Greg Smith)</P><P> 新的详情包含<ACRONYM CLASS="ACRONYM">WAL</ACRONYM>文件以及同步活动。</P></LI><LI><P> 添加<A HREF="runtime-config-logging.html#GUC-LOG-FILE-MODE"><TT CLASS="VARNAME">log_file_mode</TT></A>
其控制通过日志收集器创建的日志文件权限(Martin Pihlak)</P></LI><LI><P> 减少<SPAN CLASS="APPLICATION">syslog</SPAN>记录缺省最大行长度
到加上前缀900字节(Noah Misch)</P><P> 这避免了syslog实现上具有1KB长度限制而不是常见的2KB的长日志行的
截断。</P></LI></UL></DIV><DIV CLASS="SECT4"><H4 CLASS="SECT4"><A NAME="AEN118907">E.19.3.1.5. 统计视图</A></H4><P></P><UL><LI><P> 添加<TT CLASS="STRUCTFIELD">client_hostname</TT>列到
<A HREF="monitoring-stats.html#MONITORING-STATS-VIEWS-TABLE"><TT CLASS="STRUCTNAME">pg_stat_activity</TT></A>
(Peter Eisentraut)</P><P> 先前只报道客户端地址。</P></LI><LI><P> 添加
<A HREF="monitoring-stats.html#MONITORING-STATS-VIEWS-TABLE"><TT CLASS="STRUCTNAME">pg_stat_xact_*</TT></A>
统计函数和视图(Joel Jacobson)</P><P> 这些更像数据库端统计计算视图，
但是反映了当前事务重要性。</P></LI><LI><P> 添加数据库级别最后重置时间以及后端写统计视图(Tomas Vondra)</P></LI><LI><P> 在<A HREF="monitoring-stats.html#MONITORING-STATS-VIEWS-TABLE"><TT CLASS="STRUCTNAME">pg_stat_*_tables</TT></A>
视图中添加列显示清理数和分析操作(Magnus Hagander)</P></LI><LI><P> 添加<TT CLASS="STRUCTFIELD">buffers_backend_fsync</TT>列到
<A HREF="monitoring-stats.html#MONITORING-STATS-VIEWS-TABLE"><TT CLASS="STRUCTNAME">pg_stat_bgwriter</TT></A>
(Greg Smith)</P><P> 这个新列计算后端同步缓冲区的次数。</P></LI></UL></DIV><DIV CLASS="SECT4"><H4 CLASS="SECT4"><A NAME="AEN118933">E.19.3.1.6. 服务器设置</A></H4><P></P><UL><LI><P> 提供
<A HREF="runtime-config-wal.html#GUC-WAL-BUFFERS"><TT CLASS="VARNAME">wal_buffers</TT></A>
的自动调整(Greg Smith)</P><P> 缺省情况下，<TT CLASS="VARNAME">wal_buffers</TT>的值基于<TT CLASS="VARNAME">shared_buffers</TT>的值
被自动选择。</P></LI><LI><P> 为<A HREF="runtime-config-locks.html#GUC-DEADLOCK-TIMEOUT"><TT CLASS="VARNAME">deadlock_timeout</TT></A>，
<A HREF="runtime-config-logging.html#GUC-LOG-MIN-DURATION-STATEMENT"><TT CLASS="VARNAME">log_min_duration_statement</TT></A>和
<A HREF="runtime-config-autovacuum.html#GUC-LOG-AUTOVACUUM-MIN-DURATION"><TT CLASS="VARNAME">log_autovacuum_min_duration</TT></A>
增加最大值(Peter Eisentraut)</P><P> 这些参数的最大值先前只有35分钟。
现在允许更大值。</P></LI></UL></DIV></DIV><DIV CLASS="SECT3"><H3 CLASS="SECT3"><A NAME="AEN118952">E.19.3.2. 备份与恢复</A></H3><DIV CLASS="SECT4"><H4 CLASS="SECT4"><A NAME="AEN118954">E.19.3.2.1. 流复制和连续归档</A></H4><P></P><UL><LI><P> 允许<A HREF="warm-standby.html#SYNCHRONOUS-REPLICATION">同步复制</A>
(Simon Riggs, Fujii Masao)</P><P> 这允许等待备用的主服务器在承认提交前写事务信息到磁盘。
每次备用起着同步备份的作用。正如通过
<A HREF="runtime-config-replication.html#GUC-SYNCHRONOUS-STANDBY-NAMES"><TT CLASS="VARNAME">synchronous_standby_names</TT></A>
设置控制。
在每个事务基础上使用<A HREF="runtime-config-wal.html#GUC-SYNCHRONOUS-COMMIT"><TT CLASS="VARNAME">synchronous_commit</TT></A>
设置可以启用或者禁用同步复制。</P></LI><LI><P> 使用流复制网络连接添加发送文件系统备份协议支持到备用服务器
(Magnus Hagander, Heikki Linnakangas)</P><P> 当设置一个备用服务器时，这避免了手动传送文件系统备份的需求。</P></LI><LI><P> 添加<TT CLASS="VARNAME">replication_timeout</TT>设置(Fujii Masao, Heikki Linnakangas)</P><P> 对于超过<TT CLASS="VARNAME">replication_timeout</TT>间隔空闲的复制连接将自动被终止。
先前，失败连接通常不能被检测直到TCP超时消逝，
在很多情况下这是不方便的。</P></LI><LI><P> 添加命令行工具
<A HREF="app-pgbasebackup.html"><SPAN CLASS="APPLICATION">pg_basebackup</SPAN></A>
创建一个新的备用服务器或者数据库备份(Magnus Hagander)</P></LI><LI><P> 为角色添加<A HREF="sql-createrole.html">复制许可</A>(Magnus Hagander)</P><P> 这是用于流复制的只读权限。它允许非超级用户
用于复制连接。
先前只有超级用户可以启动复制连接；
缺省情况下超级用户具有此权限。</P></LI></UL></DIV><DIV CLASS="SECT4"><H4 CLASS="SECT4"><A NAME="AEN118981">E.19.3.2.2. 备份监控</A></H4><P></P><UL><LI><P> 增加系统视图
<A HREF="monitoring-stats.html#MONITORING-STATS-VIEWS-TABLE"><TT CLASS="STRUCTNAME">pg_stat_replication</TT></A>，
这显示了<ACRONYM CLASS="ACRONYM">WAL</ACRONYM>发送者进程活动
(Itagaki Takahiro, Simon Riggs)</P><P> 报告所有连接备用服务器的状态。</P></LI><LI><P> 添加监控函数
<A HREF="functions-admin.html#FUNCTIONS-RECOVERY-INFO-TABLE"><CODE CLASS="FUNCTION">pg_last_xact_replay_timestamp()</CODE></A>
(Fujii Masao)</P><P> 这返回了主库产生最近提交或者应用在备库上的终止记录的时间。</P></LI></UL></DIV><DIV CLASS="SECT4"><H4 CLASS="SECT4"><A NAME="AEN118995">E.19.3.2.3. 热备份</A></H4><P></P><UL><LI><P> 添加配置参数
<A HREF="runtime-config-replication.html#GUC-HOT-STANDBY-FEEDBACK"><TT CLASS="VARNAME">hot_standby_feedback</TT></A>
启动备库以推迟主库旧行版本清理(Simon Riggs) </P><P> 这有助于避免备库上取消长时间运行查询。</P></LI><LI><P> 添加<A HREF="monitoring-stats.html#MONITORING-STATS-VIEWS-TABLE"><TT CLASS="STRUCTNAME">pg_stat_database_conflicts</TT></A>
系统视图以显示取消的查询和原因(Magnus Hagander)</P><P> 因为删除的表空间，锁超时，旧快照，保留区以及死锁，可以发生取消。</P></LI><LI><P> 添加<TT CLASS="STRUCTFIELD">conflicts</TT>计算到
<A HREF="monitoring-stats.html#MONITORING-STATS-VIEWS-TABLE"><TT CLASS="STRUCTNAME">pg_stat_database</TT></A>
(Magnus Hagander)</P><P> 发生在数据库中的冲突数。</P></LI><LI><P> 为<A HREF="runtime-config-replication.html#GUC-MAX-STANDBY-ARCHIVE-DELAY"><TT CLASS="VARNAME">max_standby_archive_delay</TT></A>和
<A HREF="runtime-config-replication.html#GUC-MAX-STANDBY-STREAMING-DELAY"><TT CLASS="VARNAME">max_standby_streaming_delay</TT></A>
增加最大值。</P><P> 每个参数的最大值以前只有35分钟。现在允许更大的值。</P></LI><LI><P> 添加
<A HREF="http://school.yunwei.edu/manual/PostgreSQL/errcodes-appendix.html#ERRCODES-TABLE"><TT CLASS="LITERAL">ERRCODE_T_R_DATABASE_DROPPED</TT></A>
错误代码以报告恢复冲突，由于已删除数据库(Tatsuo Ishii)</P><P> 这对于连接池软件是有用的。</P></LI></UL></DIV><DIV CLASS="SECT4"><H4 CLASS="SECT4"><A NAME="AEN119026">E.19.3.2.4. 恢复控制</A></H4><P></P><UL><LI><P> 添加函数以控制流复制重播(Simon Riggs)</P><P>新函数是
<A HREF="functions-admin.html#FUNCTIONS-RECOVERY-CONTROL-TABLE"><CODE CLASS="FUNCTION">pg_xlog_replay_pause()</CODE></A>,
<A HREF="functions-admin.html#FUNCTIONS-RECOVERY-CONTROL-TABLE"><CODE CLASS="FUNCTION">pg_xlog_replay_resume()</CODE></A>,
并且状态函数是
<A HREF="functions-admin.html#FUNCTIONS-RECOVERY-CONTROL-TABLE"><CODE CLASS="FUNCTION">pg_is_xlog_replay_paused()</CODE></A>&#13;</P></LI><LI><P> 添加<TT CLASS="FILENAME">recovery.conf</TT>设置
<A HREF="recovery-target-settings.html#PAUSE-AT-RECOVERY-TARGET"><TT CLASS="VARNAME">pause_at_recovery_target</TT></A>
在目标位置暂停恢复(Simon Riggs)</P><P> 这允许需要恢复服务器检查恢复点是否是所需的。</P></LI><LI><P> 使用
<A HREF="functions-admin.html#FUNCTIONS-ADMIN-BACKUP-TABLE"><CODE CLASS="FUNCTION">pg_create_restore_point()</CODE></A>
添加创建命名恢复点的能力(Jaime Casanova)</P><P> 这些命名恢复点被声明为使用新的
<TT CLASS="FILENAME">recovery.conf</TT>设置
<A HREF="recovery-target-settings.html#RECOVERY-TARGET-NAME"><TT CLASS="VARNAME">recovery_target_name</TT></A>
的恢复目标。</P></LI><LI><P> 允许备份恢复自动切换到新的时间线(Heikki Linnakangas)</P><P> 目前备用服务器为周期性新的时间线扫描归档目录。</P></LI><LI><P> 添加<A HREF="runtime-config-error-handling.html#GUC-RESTART-AFTER-CRASH"><TT CLASS="VARNAME">restart_after_crash</TT></A>
设置，在后台崩溃后禁用自动服务器重启(Robert Haas)</P><P> 这允许外部集群管理软件控制数据库服务器是否重新启动。</P></LI><LI><P> 允许
<A HREF="http://school.yunwei.edu/manual/PostgreSQL/recovery-config.html"><TT CLASS="FILENAME">recovery.conf</TT></A>
使用和<TT CLASS="FILENAME">postgresql.conf</TT>相同的引用操作(Dimitri Fontaine)</P><P> 以前所有值必须被引用。</P></LI></UL></DIV></DIV><DIV CLASS="SECT3"><H3 CLASS="SECT3"><A NAME="AEN119066">E.19.3.3. 查询</A></H3><P></P><UL><LI><P> 添加真的
<A HREF="transaction-iso.html#XACT-SERIALIZABLE">可串行化隔离级别</A>
(Kevin Grittner, Dan Ports)</P><P> 先前，要求串行化隔离保证了单独MVCC快照可以用于整个事务，
这允许某些记录异常。
旧的快照隔离级别通过请求
<A HREF="transaction-iso.html#XACT-REPEATABLE-READ"><TT CLASS="LITERAL">REPEATABLE READ</TT></A>
隔离级别可用。</P></LI><LI><P> 允许<A HREF="queries-with.html"><TT CLASS="LITERAL">WITH</TT></A>子句中
数据修改命令(<TT CLASS="COMMAND">INSERT</TT>/<TT CLASS="COMMAND">UPDATE</TT>/<TT CLASS="COMMAND">DELETE</TT>)
(Marko Tiikkaja, Hitoshi Harada)</P><P> 这些命令可以使用<TT CLASS="LITERAL">RETURNING</TT>传递数据到所包含查询。</P></LI><LI><P> 允许<A HREF="queries-with.html"><TT CLASS="LITERAL">WITH</TT></A>子句被附属于
<TT CLASS="COMMAND">INSERT</TT>，<TT CLASS="COMMAND">UPDATE</TT>，
<TT CLASS="COMMAND">DELETE</TT>语句(Marko Tiikkaja, Hitoshi Harada)</P></LI><LI><P> 当在<TT CLASS="LITERAL">GROUP BY</TT>子句中指定主键时，
允许查询目标列中的
非<A HREF="queries-table-expressions.html#QUERIES-GROUP"><TT CLASS="LITERAL">GROUP BY</TT></A>列(Peter Eisentraut)</P><P> SQL标准允许该操作，由于该主键，结果是明确的。</P></LI><LI><P>允许<A HREF="queries-union.html"><TT CLASS="LITERAL">UNION</TT>/<TT CLASS="LITERAL">INTERSECT</TT>/<TT CLASS="LITERAL">EXCEPT</TT></A>
子句中关键字<TT CLASS="LITERAL">DISTINCT</TT>的使用(Tom Lane)&#13;</P><P> <TT CLASS="LITERAL">DISTINCT</TT>是缺省操作，因此该关键字的使用是多余的，
但是SQL标准允许它。</P></LI><LI><P> 修复普通规则查询以使用和<TT CLASS="COMMAND">EXPLAIN ANALYZE</TT>相同快照操作(Marko Tiikkaja)</P><P> 先前<TT CLASS="COMMAND">EXPLAIN ANALYZE</TT>使用涉及规则的查询略微不同的快照时间。
<TT CLASS="COMMAND">EXPLAIN ANALYZE</TT>操作被认为更合乎逻辑。</P></LI></UL><DIV CLASS="SECT4"><H4 CLASS="SECT4"><A NAME="AEN119112">E.19.3.3.1. 字符串</A></H4><P></P><UL><LI><P> 添加每列
<A HREF="collation.html">collation</A>支持
(Peter Eisentraut, Tom Lane)</P><P> 以前在数据库创建中选择排序规则（文本字符串排序）。
排序规则可以设置每列，域，索引，或者表达式，
通过SQL标准<TT CLASS="LITERAL">COLLATE</TT>子句。</P></LI></UL></DIV></DIV><DIV CLASS="SECT3"><H3 CLASS="SECT3"><A NAME="AEN119120">E.19.3.4. 对象操作</A></H3><P></P><UL><LI><P> 添加<A HREF="extend-extensions.html">extensions</A>，
这简化了附加<SPAN CLASS="PRODUCTNAME">PostgreSQL</SPAN>的包装(Dimitri Fontaine, Tom Lane)</P><P> 通过新的
<A HREF="sql-createextension.html"><TT CLASS="COMMAND">CREATE</TT></A>/<A HREF="sql-alterextension.html"><TT CLASS="COMMAND">ALTER</TT></A>/<A HREF="sql-dropextension.html"><TT CLASS="COMMAND">DROP EXTENSION</TT></A>命令
控制扩展。
这取代了分组对象的点对点方法被添加到<SPAN CLASS="PRODUCTNAME">PostgreSQL</SPAN>安装中。&#13;</P></LI><LI><P> 添加支持<A HREF="sql-createforeigntable.html">外表</A>
(Shigeru Hanada, Robert Haas, Jan Urbanski, Heikki Linnakangas)</P><P> 这允许存储在数据库外的数据像本地<SPAN CLASS="PRODUCTNAME">PostgreSQL</SPAN>存储数据一样使用。
然而，外表目前只读。</P></LI><LI><P> 允许新值通过<A HREF="sql-altertype.html"><TT CLASS="COMMAND">ALTER TYPE</TT></A>被
添加到现有枚举类型中(Andrew Dunstan)</P></LI><LI><P>添加<A HREF="sql-altertype.html"><TT CLASS="COMMAND">ALTER TYPE ...
ADD/DROP/ALTER/RENAME ATTRIBUTE</TT></A> (Peter Eisentraut)</P><P> 这允许复合类型的修改。</P></LI></UL><DIV CLASS="SECT4"><H4 CLASS="SECT4"><A NAME="AEN119149">E.19.3.4.1. <TT CLASS="COMMAND">ALTER</TT>对象</A></H4><P></P><UL><LI><P> 在分类表上添加<TT CLASS="LITERAL">RESTRICT</TT>/<TT CLASS="LITERAL">CASCADE</TT>到
<A HREF="sql-altertype.html"><TT CLASS="COMMAND">ALTER TYPE</TT></A>操作(Peter Eisentraut)</P><P> 这控制
<TT CLASS="LITERAL">ADD</TT>/<TT CLASS="LITERAL">DROP</TT>/<TT CLASS="LITERAL">ALTER</TT>/<TT CLASS="LITERAL">RENAME ATTRIBUTE</TT>
级联操作。</P></LI><LI><P> 支持<TT CLASS="LITERAL">ALTER TABLE <TT CLASS="REPLACEABLE"><I>name</I></TT> {OF | NOT OF}
<TT CLASS="REPLACEABLE"><I>type</I></TT></TT>(Noah Misch)</P><P> 这个语法允许单独表成为分类表，或者分类表成为单独的。</P></LI><LI><P> 在<TT CLASS="COMMAND">ALTER ... SET SCHEMA</TT>命令中添加支持多个对象类型(Dimitri Fontaine)</P><P> 该命令现在支持转换，算子，算子类，
算子族，文本搜索配置，文本搜索词典，文本
搜索分析器，以及文本搜索模板。</P></LI></UL></DIV><DIV CLASS="SECT4"><H4 CLASS="SECT4"><A NAME="AEN119174">E.19.3.4.2. <A HREF="sql-createtable.html"><TT CLASS="COMMAND">CREATE/ALTER TABLE</TT></A></A></H4><P></P><UL><LI><P> 添加<TT CLASS="COMMAND">ALTER TABLE ... ADD UNIQUE/PRIMARY KEY USING INDEX</TT>
(Gurjeet Singh)</P><P> 这允许使用现有唯一索引包含
同时创建的唯一索引定义主键或者唯一约束。</P></LI><LI><P> 允许<TT CLASS="COMMAND">ALTER TABLE</TT>添加没有验证的外键(Simon Riggs)</P><P> 新选项称为<TT CLASS="LITERAL">NOT VALID</TT>。
约束的状态可以随后被修改为<TT CLASS="LITERAL">VALIDATED</TT>并且
执行验证检查。同时这些允许你添加对读写操作影响最小的外键。
</P></LI><LI><P> 允许
<A HREF="sql-altertable.html"><TT CLASS="COMMAND">ALTER TABLE... SET DATA TYPE</TT></A>避免
在合适情况中的表重写(Noah Misch, Robert Haas)</P><P> 比如，转换<TT CLASS="TYPE">varchar</TT>列使得<TT CLASS="TYPE">text</TT>不再需要表重写。
然而，增加<TT CLASS="TYPE">varchar</TT>列上长度限制仍然需要表重写。</P></LI><LI><P> 添加<A HREF="sql-createtable.html"><TT CLASS="COMMAND">CREATE TABLE IF NOT EXISTS</TT></A>
语法(Robert Haas)</P><P> 如果该表已经存在，那么允许没有导致错误的表创建。</P></LI><LI><P> 当两个后端尝试添加继承孩子到同一时间的同一表时，
修复可能<SPAN CLASS="QUOTE">"元组同时更新"</SPAN>错误(Robert Haas)</P><P> <A HREF="sql-altertable.html"><TT CLASS="COMMAND">ALTER TABLE</TT></A>
需要采取更强锁定父表，这样该会话不能试图同时更新它。</P></LI></UL></DIV><DIV CLASS="SECT4"><H4 CLASS="SECT4"><A NAME="AEN119208">E.19.3.4.3. 对象权限</A></H4><P></P><UL><LI><P> 添加<A HREF="sql-security-label.html"><TT CLASS="COMMAND">SECURITY LABEL</TT></A>
命令(KaiGai Kohei)</P><P> 这允许安全标签分配给对象。</P></LI></UL></DIV></DIV><DIV CLASS="SECT3"><H3 CLASS="SECT3"><A NAME="AEN119216">E.19.3.5. 实用操作</A></H3><P></P><UL><LI><P> 添加事务级别<A HREF="explicit-locking.html#ADVISORY-LOCKS">咨询锁</A>(Marko Tiikkaja)</P><P> 这与现有会话级别咨询锁类似，
但是在事务结束时自动释放这种锁。</P></LI><LI><P> 使得<A HREF="sql-truncate.html"><TT CLASS="COMMAND">TRUNCATE ... RESTART IDENTITY</TT></A>
相互作用的重启序列(Steve Singer)</P><P> 如果在提交事务活动和提交完成之间发生后端崩溃，
那么该计数器可能已经不同步。</P></LI></UL><DIV CLASS="SECT4"><H4 CLASS="SECT4"><A NAME="AEN119228">E.19.3.5.1. <A HREF="sql-copy.html"><TT CLASS="COMMAND">COPY</TT></A></A></H4><P></P><UL><LI><P> 添加<TT CLASS="LITERAL">ENCODING</TT>选项到
<A HREF="sql-copy.html"><TT CLASS="COMMAND">COPY TO/FROM</TT></A>
(Hitoshi Harada, Itagaki Takahiro)</P><P> 这允许分别从客户端编码指定<TT CLASS="COMMAND">COPY</TT>文件编码。</P></LI><LI><P> 添加双向<A HREF="sql-copy.html"><TT CLASS="COMMAND">COPY</TT></A>
协议支持(Fujii Masao)</P><P> 当前通过流复制被使用。</P></LI></UL></DIV><DIV CLASS="SECT4"><H4 CLASS="SECT4"><A NAME="AEN119245">E.19.3.5.2. <A HREF="sql-explain.html"><TT CLASS="COMMAND">EXPLAIN</TT></A></A></H4><P></P><UL><LI><P> 使得<TT CLASS="COMMAND">EXPLAIN VERBOSE</TT>在<TT CLASS="LITERAL">FunctionScan</TT>节点中
显示函数调用表达式(Tom Lane)</P></LI></UL></DIV><DIV CLASS="SECT4"><H4 CLASS="SECT4"><A NAME="AEN119254">E.19.3.5.3. <A HREF="sql-vacuum.html"><TT CLASS="COMMAND">VACUUM</TT></A></A></H4><P></P><UL><LI><P> 添加额外详情到
<A HREF="sql-vacuum.html"><TT CLASS="COMMAND">VACUUM FULL VERBOSE</TT></A>和
<A HREF="sql-cluster.html"><TT CLASS="COMMAND">CLUSTER VERBOSE</TT></A>
的输出中(Itagaki Takahiro)</P><P> 新信息包含活的和死的元组数，
以及是否<TT CLASS="COMMAND">CLUSTER</TT>使用索引重新创建。</P></LI><LI><P> 如果它不能获得表锁，
那么阻止<A HREF="routine-vacuuming.html#AUTOVACUUM">autovacuum</A>等待(Robert Haas)</P><P> 它将尝试随后清理该表。</P></LI></UL></DIV><DIV CLASS="SECT4"><H4 CLASS="SECT4"><A NAME="AEN119271">E.19.3.5.4. <A HREF="sql-cluster.html"><TT CLASS="COMMAND">CLUSTER</TT></A></A></H4><P></P><UL><LI><P> 当它似乎比较廉价时，允许<TT CLASS="COMMAND">CLUSTER</TT>排序表而不是
扫描索引(Leonardo Francalanci)</P></LI></UL></DIV><DIV CLASS="SECT4"><H4 CLASS="SECT4"><A NAME="AEN119279">E.19.3.5.5. 索引</A></H4><P></P><UL><LI><P> 添加最近邻（算子排序）搜索到
<A HREF="http://school.yunwei.edu/manual/PostgreSQL/gist.html"><ACRONYM CLASS="ACRONYM">GiST</ACRONYM>索引</A>
(Teodor Sigaev, Tom Lane)</P><P>
这允许<ACRONYM CLASS="ACRONYM">GiST</ACRONYM>索引迅速返回带有<TT CLASS="LITERAL">LIMIT</TT>的查询中的
<TT CLASS="REPLACEABLE"><I>N</I></TT>最近值。比如
</P><PRE CLASS="PROGRAMLISTING">SELECT * FROM places ORDER BY location &#60;-&#62; point '(101,456)' LIMIT 10;</PRE><P>
找到离给定目标点最近的十个位置。
</P></LI><LI><P> 允许<A HREF="http://school.yunwei.edu/manual/PostgreSQL/gin.html"><ACRONYM CLASS="ACRONYM">GIN</ACRONYM>索引</A>索引无效和空值(Tom Lane)</P><P> 这允许全<ACRONYM CLASS="ACRONYM">GIN</ACRONYM>索引扫描，
并且修复GIN扫描可能失败的情况。</P></LI><LI><P> 允许<A HREF="http://school.yunwei.edu/manual/PostgreSQL/gin.html"><ACRONYM CLASS="ACRONYM">GIN</ACRONYM>索引</A>
更好识别重复搜索项(Tom Lane)</P><P> 这降低了索引扫描成本，
尤其是在避免不必要全扫描索引的情况下。</P></LI><LI><P> 修复<A HREF="http://school.yunwei.edu/manual/PostgreSQL/gist.html"><ACRONYM CLASS="ACRONYM">GiST</ACRONYM>索引</A>充分
碰撞安全(Heikki Linnakangas)</P><P> 先前存在需要<TT CLASS="COMMAND">REINDEX</TT>的罕见情况（你可能被告知）。</P></LI></UL></DIV></DIV><DIV CLASS="SECT3"><H3 CLASS="SECT3"><A NAME="AEN119308">E.19.3.6. 数据类型</A></H3><P></P><UL><LI><P> 允许<TT CLASS="TYPE">numeric</TT>在一般情况下使用更紧凑，两字节标题。</P><P> 以前所有<TT CLASS="TYPE">numeric</TT>值有四字节标题，
这种变化节省磁盘存储。</P></LI><LI><P> 添加通过<TT CLASS="TYPE">money</TT>划分<TT CLASS="TYPE">money</TT>的支持(Andy Balholm)</P></LI><LI><P> 允许类型<TT CLASS="TYPE">void</TT>上的二进制I/O(Radoslaw Smogura)</P></LI><LI><P> 提高几何学操作符的斜边计算(Paul Matthews)</P><P>这避免了不必要的溢出，也可能更精准。</P></LI><LI><P> 支持哈希数组值(Tom Lane)</P><P> 这提供了额外查询优化可能性。</P></LI><LI><P> 不要将复合类型看作可分类的除非所有列类型是可分类的(Tom Lane)</P><P> 这避免了可能的运行时<SPAN CLASS="QUOTE">"不能识别比较函数"</SPAN>错误，
如果可能实现没有排序的查询。
同时，<TT CLASS="COMMAND">ANALYZE</TT>不会尝试为该复合类型列使用不恰当的统计收集方法。 </P></LI></UL><DIV CLASS="SECT4"><H4 CLASS="SECT4"><A NAME="AEN119334">E.19.3.6.1. Casting</A></H4><P></P><UL><LI><P> 添加支持<TT CLASS="TYPE">money</TT>和<TT CLASS="TYPE">numeric</TT>之间的转换(Andy Balholm)</P></LI><LI><P> 添加从<TT CLASS="TYPE">int4</TT>和<TT CLASS="TYPE">int8</TT>到<TT CLASS="TYPE">money</TT>的转换(Joey Adams)</P></LI><LI><P> 如果它是一个分类表，
那么允许转换表的行类型到表的父类型(Peter Eisentraut)</P><P> 这与允许转换行类型到父表行类型的现有功能类似。</P></LI></UL></DIV><DIV CLASS="SECT4"><H4 CLASS="SECT4"><A NAME="AEN119349">E.19.3.6.2. <A HREF="functions-xml.html"><ACRONYM CLASS="ACRONYM">XML</ACRONYM></A></A></H4><P></P><UL><LI><P> 添加<ACRONYM CLASS="ACRONYM">XML</ACRONYM>函数
<A HREF="functions-xml.html#XML-EXISTS"><TT CLASS="LITERAL">XMLEXISTS</TT></A>和
<A HREF="functions-xml.html#XML-EXISTS"><CODE CLASS="FUNCTION">xpath_exists()</CODE></A>
函数(Mike Fowler)&#13;</P><P> 这些用于XPath匹配。</P></LI><LI><P> 添加<ACRONYM CLASS="ACRONYM">XML</ACRONYM>函数
<A HREF="functions-xml.html#XML-IS-WELL-FORMED"><CODE CLASS="FUNCTION">xml_is_well_formed()</CODE></A>,
<A HREF="functions-xml.html#XML-IS-WELL-FORMED"><CODE CLASS="FUNCTION">xml_is_well_formed_document()</CODE></A>,
<A HREF="functions-xml.html#XML-IS-WELL-FORMED"><CODE CLASS="FUNCTION">xml_is_well_formed_content()</CODE></A>
(Mike Fowler)</P><P> 这些检查输入是否是恰当形成的<ACRONYM CLASS="ACRONYM">XML</ACRONYM>。
它们提供了以前在弃用的<TT CLASS="FILENAME">contrib/xml2</TT>模块中可用的功能。</P></LI></UL></DIV></DIV><DIV CLASS="SECT3"><H3 CLASS="SECT3"><A NAME="AEN119374">E.19.3.7. 函数</A></H3><P></P><UL><LI><P> 添加函数
<A HREF="functions-string.html#FORMAT"><CODE CLASS="FUNCTION">format(text, ...)</CODE></A>，
这类似于C的<CODE CLASS="FUNCTION">printf()</CODE> (Pavel Stehule, Robert Haas)</P><P> 它目前支持字符串，SQL文本以及SQL标识符格式。</P></LI><LI><P> 添加字符串函数
<A HREF="functions-string.html#FUNCTIONS-STRING-OTHER"><CODE CLASS="FUNCTION">concat()</CODE></A>,
<A HREF="functions-string.html#FUNCTIONS-STRING-OTHER"><CODE CLASS="FUNCTION">concat_ws()</CODE></A>,
<A HREF="functions-string.html#FUNCTIONS-STRING-OTHER"><CODE CLASS="FUNCTION">left()</CODE></A>,
<A HREF="functions-string.html#FUNCTIONS-STRING-OTHER"><CODE CLASS="FUNCTION">right()</CODE></A>,
以及<A HREF="functions-string.html#FUNCTIONS-STRING-OTHER"><CODE CLASS="FUNCTION">reverse()</CODE></A>
(Pavel Stehule)</P><P> 这改善了与其他数据库产品的兼容性。</P></LI><LI><P> 添加函数
<A HREF="functions-admin.html#FUNCTIONS-ADMIN-GENFILE"><CODE CLASS="FUNCTION">pg_read_binary_file()</CODE></A>
以读取二进制文件(Dimitri Fontaine, Itagaki Takahiro)</P></LI><LI><P> 添加函数
<A HREF="functions-admin.html#FUNCTIONS-ADMIN-GENFILE"><CODE CLASS="FUNCTION">pg_read_file()</CODE></A>
的一个参数版本以读取整个文件(Dimitri Fontaine, Itagaki Takahiro)</P></LI><LI><P> 为空值处理控制添加
<A HREF="functions-array.html#ARRAY-FUNCTIONS-TABLE"><CODE CLASS="FUNCTION">array_to_string()</CODE></A>
和<A HREF="functions-array.html#ARRAY-FUNCTIONS-TABLE"><CODE CLASS="FUNCTION">string_to_array()</CODE></A>
的三个参数形式(Pavel Stehule)</P></LI></UL><DIV CLASS="SECT4"><H4 CLASS="SECT4"><A NAME="AEN119410">E.19.3.7.1. 对象信息函数</A></H4><P></P><UL><LI><P> 添加
<A HREF="functions-info.html#FUNCTIONS-INFO-CATALOG-TABLE"><CODE CLASS="FUNCTION">pg_describe_object()</CODE></A>
函数(Alvaro Herrera)</P><P> 该函数用于获得人类可读字符串描述对象，基于
<A HREF="catalog-pg-class.html"><TT CLASS="STRUCTNAME">pg_class</TT></A>OID，
对象OID以及子对象OID。它可以有助于解释
<A HREF="catalog-pg-depend.html"><TT CLASS="STRUCTNAME">pg_depend</TT></A>
的内容。</P></LI><LI><P> 更新内置操作符注释和潜在函数(Tom Lane)</P><P> 打算通过相关算子使用的函数同样被注释。</P></LI><LI><P> 添加函数
<A HREF="runtime-config-compatible.html#GUC-QUOTE-ALL-IDENTIFIERS"><TT CLASS="VARNAME">quote_all_identifiers</TT></A>
强迫<TT CLASS="COMMAND">EXPLAIN</TT>中以及系统目录函数像
<A HREF="functions-info.html#FUNCTIONS-INFO-CATALOG-TABLE"><CODE CLASS="FUNCTION">pg_get_viewdef()</CODE></A>
中所有标识符引用。</P><P> 尝试输出模式到工具和伴随不同引用规则更加容易的其他数据库。</P></LI><LI><P>添加列到
<A HREF="infoschema-sequences.html"><TT CLASS="STRUCTNAME">information_schema.sequences</TT></A>
系统表(Peter Eisentraut)&#13;</P><P> 先前，尽管视图存在，未实现关于序列参数的列。</P></LI><LI><P> 在<A HREF="functions-info.html#FUNCTIONS-INFO-ACCESS-TABLE"><CODE CLASS="FUNCTION">has_table_privilege()</CODE></A>
中以及相关函数中允许<TT CLASS="LITERAL">public</TT>作为伪角色名字(Alvaro Herrera)</P><P> 这允许检查public权限。</P></LI></UL></DIV><DIV CLASS="SECT4"><H4 CLASS="SECT4"><A NAME="AEN119444">E.19.3.7.2. 函数和触发器创建</A></H4><P></P><UL><LI><P> 支持视图上
<A HREF="sql-createtrigger.html"><TT CLASS="LITERAL">INSTEAD OF</TT></A>
触发器(Dean Rasheed)</P><P> 该功能可以充分实现可更新视图。</P></LI></UL></DIV></DIV><DIV CLASS="SECT3"><H3 CLASS="SECT3"><A NAME="AEN119452">E.19.3.8. 服务器端语言</A></H3><DIV CLASS="SECT4"><H4 CLASS="SECT4"><A NAME="AEN119454">E.19.3.8.1. <A HREF="http://school.yunwei.edu/manual/PostgreSQL/plpgsql.html">PL/pgSQL</A>服务器端语言</A></H4><P></P><UL><LI><P> 添加<A HREF="plpgsql-control-structures.html#PLPGSQL-FOREACH-ARRAY"><TT CLASS="COMMAND">FOREACH IN ARRAY</TT></A>
到PL/pgSQL(Pavel Stehule)</P><P> 这比遍历数组值元素的先前方法更有效并且可读性更高。</P></LI><LI><P>
允许可以从同一地方捕获
<TT CLASS="COMMAND">RAISE ERROR</TT>的同一位置
捕获不带参数的<TT CLASS="COMMAND">RAISE</TT>(Piyush Newe)</P><P> 前面编码从包含活跃异常处理程序块中抛出错误。
新操作与其他DBMS产品更加一致。</P></LI></UL></DIV><DIV CLASS="SECT4"><H4 CLASS="SECT4"><A NAME="AEN119468">E.19.3.8.2. <A HREF="http://school.yunwei.edu/manual/PostgreSQL/plperl.html">PL/Perl</A>服务器端语言</A></H4><P></P><UL><LI><P> 允许通用记录参数到PL/Perl函数(Andrew Dunstan)</P><P> 可以声明PL/Perl函数接受类型<TT CLASS="TYPE">record</TT>。
该操作与任何命名复合类型是一样的。</P></LI><LI><P> 转换PL/Perl数组参数到Perl数组(Alexey Klyukin,Alex Hunsaker)</P><P> 字符串表示仍然可用。</P></LI><LI><P> 转换PL/Perl复合类型参数到Perl哈希(Alexey Klyukin, Alex Hunsaker)</P><P> 字符串表示仍然可用。</P></LI></UL></DIV><DIV CLASS="SECT4"><H4 CLASS="SECT4"><A NAME="AEN119482">E.19.3.8.3. <A HREF="http://school.yunwei.edu/manual/PostgreSQL/plpython.html">PL/Python</A>服务器端语言</A></H4><P></P><UL><LI><P> 添加表函数支持PL/Python(Jan Urbanski)</P><P> PL/Python现在可以返回多个<TT CLASS="LITERAL">OUT</TT>参数和记录集。</P></LI><LI><P> 添加验证器给PL/Python (Jan Urbanski)</P><P> 这允许PL/Python函数在函数创建时间是语法检查的。</P></LI><LI><P> 允许PL/Python中SQL查询异常(Jan Urbanski)</P><P> 这允许从PL/Python异常块中访问SQL生成异常错误代码。</P></LI><LI><P> 添加明确子事务到PL/Python (Jan Urbanski)</P></LI><LI><P> 为引用字符串添加PL/Python函数(Jan Urbanski)</P><P> 这些函数是
<A HREF="plpython-util.html"><TT CLASS="LITERAL">plpy.quote_ident</TT></A>，
<A HREF="plpython-util.html"><TT CLASS="LITERAL">plpy.quote_literal</TT></A>，
和<A HREF="plpython-util.html"><TT CLASS="LITERAL">plpy.quote_nullable</TT></A>。</P></LI><LI><P> 添加跟踪信息到PL/Python错误(Jan Urbanski)</P></LI><LI><P> 从带有<TT CLASS="LITERAL">PLy_elog</TT>的迭代器中报告PL/Python错误(Jan Urbanski)</P></LI><LI><P> 修复Python 3异常处理(Jan Urbanski)</P><P> 异常类以前在Python 3下<TT CLASS="LITERAL">plpy</TT>中不可用。</P></LI></UL></DIV></DIV><DIV CLASS="SECT3"><H3 CLASS="SECT3"><A NAME="AEN119516">E.19.3.9. 客户端应用</A></H3><P></P><UL><LI><P> 标记
<A HREF="app-createlang.html"><SPAN CLASS="APPLICATION">createlang</SPAN></A>
和<A HREF="app-droplang.html"><SPAN CLASS="APPLICATION">droplang</SPAN></A>
为废弃的现在它们只是调用扩展命令(Tom Lane)</P></LI></UL><DIV CLASS="SECT4"><H4 CLASS="SECT4"><A NAME="AEN119525">E.19.3.9.1. <A HREF="app-psql.html"><SPAN CLASS="APPLICATION">psql</SPAN></A></A></H4><P></P><UL><LI><P> 增加<SPAN CLASS="APPLICATION">psql</SPAN>命令<TT CLASS="LITERAL">\conninfo</TT>
以显示当前连接信息(David Christensen)</P></LI><LI><P> 添加<SPAN CLASS="APPLICATION">psql</SPAN>命令<TT CLASS="LITERAL">\sf</TT>以显示函数的定义(Pavel Stehule)</P></LI><LI><P> 添加<SPAN CLASS="APPLICATION">psql</SPAN>命令<TT CLASS="LITERAL">\dL</TT>罗列语言(Fernando Ike)</P></LI><LI><P> 添加<TT CLASS="OPTION">S</TT> (<SPAN CLASS="QUOTE">"system"</SPAN>)选项到<SPAN CLASS="APPLICATION">psql</SPAN>的
<TT CLASS="LITERAL">\dn</TT> (罗列模式)命令(Tom Lane)</P><P> 没有<TT CLASS="LITERAL">S</TT>的<TT CLASS="LITERAL">\dn</TT>现在抑制系统模式。</P></LI><LI><P> 允许 <SPAN CLASS="APPLICATION">psql</SPAN>的<TT CLASS="LITERAL">\e</TT>和<TT CLASS="LITERAL">\ef</TT>命令
接受用于定位编辑器中游标的行号(Pavel Stehule)</P><P> 按照<TT CLASS="ENVAR">PSQL_EDITOR_LINENUMBER_ARG</TT>环境变量被传递给编辑器。</P></LI><LI><P> <SPAN CLASS="APPLICATION">psql</SPAN>设置来自缺省操作系统区域的客户端编码(Heikki Linnakangas)</P><P> 如果没有设置<TT CLASS="ENVAR">PGCLIENTENCODING</TT>环境变量，
那么只会发生。</P></LI><LI><P> 尝试<TT CLASS="LITERAL">\d</TT>区分唯一索引和唯一约束(Josh Kupershmidt)</P></LI><LI><P> 当讨论9.0或者之后服务器时，
尝试<TT CLASS="LITERAL">\dt+</TT>报告<CODE CLASS="FUNCTION">pg_table_size</CODE>
而不是<CODE CLASS="FUNCTION">pg_relation_size</CODE>(Bernd Helmle)</P><P> 这是表大小更加有效的度量，
但是注意这与同一显示中先前报告的是不一样的。</P></LI><LI><P> 额外的tab实现支持
(Itagaki Takahiro, Pavel Stehule,
Andrey Popp, Christoph Berg, David Fetter, Josh Kupershmidt)</P></LI></UL></DIV><DIV CLASS="SECT4"><H4 CLASS="SECT4"><A NAME="AEN119574">E.19.3.9.2. <A HREF="app-pgdump.html"><SPAN CLASS="APPLICATION">pg_dump</SPAN></A></A></H4><P></P><UL><LI><P> 添加<A HREF="app-pgdump.html"><SPAN CLASS="APPLICATION">pg_dump</SPAN></A>
和<A HREF="app-pg-dumpall.html"><SPAN CLASS="APPLICATION">pg_dumpall</SPAN></A>
选项<TT CLASS="OPTION">--quote-all-identifiers</TT>强制引用所有标识符(Robert Haas)</P></LI><LI><P> 添加<TT CLASS="LITERAL">directory</TT>格式给<SPAN CLASS="APPLICATION">pg_dump</SPAN>
(Joachim Wieland, Heikki Linnakangas)</P><P> 内部类似于<TT CLASS="LITERAL">tar</TT><SPAN CLASS="APPLICATION">pg_dump</SPAN>格式。</P></LI></UL></DIV><DIV CLASS="SECT4"><H4 CLASS="SECT4"><A NAME="AEN119593">E.19.3.9.3. <A HREF="app-pg-ctl.html"><SPAN CLASS="APPLICATION">pg_ctl</SPAN></A></A></H4><P></P><UL><LI><P> 修复<SPAN CLASS="APPLICATION">pg_ctl</SPAN>，
所以它不再错误地报告服务器没有运行(Bruce Momjian)</P><P> 如果服务器正在运行但是<SPAN CLASS="APPLICATION">pg_ctl</SPAN>无法验证，
先前这可能发生。</P></LI><LI><P> 提高<SPAN CLASS="APPLICATION">pg_ctl</SPAN>启动的<SPAN CLASS="QUOTE">"wait"</SPAN>
(<TT CLASS="OPTION">-w</TT>)选项(Bruce Momjian, Tom Lane)</P><P> 等待模式现在更加鲁棒，它通过非缺省postmaster port号，非缺省
Unix域套接字位置，权限问题，或者旧的postmaster锁文件不会被混乱。</P></LI><LI><P> 添加<TT CLASS="LITERAL">promote</TT>选项到<SPAN CLASS="APPLICATION">pg_ctl</SPAN>用来切换
备用服务器到主库(Fujii Masao)</P></LI></UL></DIV></DIV><DIV CLASS="SECT3"><H3 CLASS="SECT3"><A NAME="AEN119613">E.19.3.10. <SPAN CLASS="APPLICATION">开发工具</SPAN></A></H3><DIV CLASS="SECT4"><H4 CLASS="SECT4"><A NAME="AEN119616">E.19.3.10.1. <A HREF="http://school.yunwei.edu/manual/PostgreSQL/libpq.html"><SPAN CLASS="APPLICATION">libpq</SPAN></A></A></H4><P></P><UL><LI><P> 添加libpq连接选项
<A HREF="libpq-connect.html#LIBPQ-CONNECT-CLIENT-ENCODING"><TT CLASS="LITERAL">client_encoding</TT></A>
这就像<TT CLASS="ENVAR">PGCLIENTENCODING</TT>环境变量(Heikki Linnakangas)</P><P> 值<TT CLASS="LITERAL">auto</TT>设置基于操作系统区域的客户端编码。</P></LI><LI><P> 添加
<A HREF="libpq-misc.html#LIBPQ-PQLIBVERSION"><CODE CLASS="FUNCTION">PQlibVersion()</CODE></A>
函数，它返回libpq库版本(Magnus Hagander)</P><P> libpq已有<CODE CLASS="FUNCTION">PQserverVersion()</CODE>返回服务器版本。</P></LI><LI><P> 当通过伴随新的
<A HREF="libpq-connect.html#LIBPQ-CONNECT-REQUIREPEER"><TT CLASS="LITERAL">requirepeer</TT></A>
连接选项的Unix域套接字连接时，
允许libpq使用客户端检查服务器进程用户名。(Peter Eisentraut)</P><P> 当通过Unix域套接字连接时，<SPAN CLASS="PRODUCTNAME">PostgreSQL</SPAN>允许服务器检查
客户端用户名。</P></LI><LI><P> 添加<A HREF="libpq-connect.html#LIBPQ-PQPING"><CODE CLASS="FUNCTION">PQping()</CODE></A>
和<A HREF="libpq-connect.html#LIBPQ-PQPINGPARAMS"><CODE CLASS="FUNCTION">PQpingParams()</CODE></A>
到libpq (Bruce Momjian, Tom Lane)</P><P> 这些函数允许不尝试打开新会话的服务器状态检测。</P></LI></UL></DIV><DIV CLASS="SECT4"><H4 CLASS="SECT4"><A NAME="AEN119647">E.19.3.10.2. <A HREF="http://school.yunwei.edu/manual/PostgreSQL/ecpg.html"><SPAN CLASS="APPLICATION">ECPG</SPAN></A></A></H4><P></P><UL><LI><P> 允许ECPG接受<TT CLASS="LITERAL">WHERE CURRENT OF</TT>子句
中动态游标名称(Zoltan Boszormenyi)</P></LI><LI><P> 尝试<SPAN CLASS="APPLICATION">ecpglib</SPAN>写带有15位精度而不是以前的14位的
<TT CLASS="TYPE">double</TT>值(Akira Kurosawa)</P></LI></UL></DIV></DIV><DIV CLASS="SECT3"><H3 CLASS="SECT3"><A NAME="AEN119659">E.19.3.11. 编译选项</A></H3><P></P><UL><LI><P> 使用可以接受它的HP-UX C编译器的<TT CLASS="LITERAL">+Olibmerrno</TT>编译标记(Ibrar Ahmed)</P><P> 这避免了最新HP平台上math库调用的可能的不当操作。</P></LI></UL><DIV CLASS="SECT4"><H4 CLASS="SECT4"><A NAME="AEN119666">E.19.3.11.1. Makefiles</A></H4><P></P><UL><LI><P> 改善并行make支持(Peter Eisentraut)</P><P> 允许更快编译。同时，<TT CLASS="LITERAL">make -k</TT>更加一致运行。</P></LI><LI><P> 需要<ACRONYM CLASS="ACRONYM">GNU</ACRONYM>
<A HREF="install-requirements.html"><SPAN CLASS="APPLICATION">make</SPAN></A>
3.80或者更新版本(Peter Eisentraut)</P><P> 由于并行make改进这是必须的。</P></LI><LI><P> 添加<TT CLASS="LITERAL">make maintainer-check</TT>目标(Peter Eisentraut)</P><P> 这个目标执行各种不适用于编译或者回归测试的源代码检查。
目前，duplicate_oids，SGML语法和tab检查，NLS语法检查。</P></LI><LI><P> 支持<TT CLASS="FILENAME">contrib</TT>中的<TT CLASS="LITERAL">make check</TT>(Peter Eisentraut)</P><P> 以前只有<TT CLASS="LITERAL">make installcheck</TT>运行，但是现在
支持临时安装中测试。
顶级<TT CLASS="LITERAL">make check-world</TT>包含这种方式测试<TT CLASS="FILENAME">contrib</TT>。</P></LI></UL></DIV><DIV CLASS="SECT4"><H4 CLASS="SECT4"><A NAME="AEN119691">E.19.3.11.2. Windows</A></H4><P></P><UL><LI><P> 在Windows上，允许<A HREF="app-pg-ctl.html"><SPAN CLASS="APPLICATION">pg_ctl</SPAN></A>
注册服务为自动启动或者是按需启动(Quan Zongliang)</P></LI><LI><P> 添加Windows上支持收集
<A HREF="installation-platform-notes.html#WINDOWS-CRASH-DUMPS">崩溃转储</A>
(Craig Ringer, Magnus Hagander)</P><P> 通过非调试Windows二进制文件产生<SPAN CLASS="PRODUCTNAME">minidumps</SPAN>，
并且通过标准调试工具进行分析。</P></LI><LI><P> 启动MinGW64编译器编译(Andrew Dunstan)</P><P> 这允许编译64位Windows二进制文件即使在非Windows平台通过交叉编译。</P></LI></UL></DIV></DIV><DIV CLASS="SECT3"><H3 CLASS="SECT3"><A NAME="AEN119706">E.19.3.12. 源代码</A></H3><P></P><UL><LI><P> 修订GUC变量分配钩的API(Tom Lane)</P><P> 以往分配钩函数划分检查钩和分配钩，
前者可以失败但是后者不能。
这一变化将影响定义自定义GUC参数的附加模块。
</P></LI><LI><P> 添加源代码锁存器以支持等待事件(Heikki Linnakangas)</P></LI><LI><P> 集中数据修改权限检查逻辑(KaiGai Kohei) </P></LI><LI><P> 为了保持一致性添加缺失的<CODE CLASS="FUNCTION">get_<TT CLASS="REPLACEABLE"><I>object</I></TT>_oid()</CODE>函数(Robert Haas)</P></LI><LI><P> 为了<A HREF="xfunc-c.html">compiling add-on modules</A>
通过删除冲突关键字提高使用C++编译器的能力(Tom Lane)</P></LI><LI><P> 添加支持DragonFly <ACRONYM CLASS="ACRONYM">BSD</ACRONYM> (Rumko)</P></LI><LI><P> 出于后端使用暴露<CODE CLASS="FUNCTION">quote_literal_cstr()</CODE>(Robert Haas)</P></LI><LI><P> 在缺省编码中运行<A HREF="install-procedure.html#BUILD">回归测试</A>(Peter Eisentraut)</P><P> 回归测试以前总是运行<TT CLASS="LITERAL">SQL_ASCII</TT>编码。</P></LI><LI><P> 添加<SPAN CLASS="APPLICATION">src/tools/git_changelog</SPAN>替换
<SPAN CLASS="APPLICATION">cvs2cl</SPAN>和<SPAN CLASS="APPLICATION">pgcvslog</SPAN>
(Robert Haas, Tom Lane)&#13;</P></LI><LI><P> 添加<SPAN CLASS="APPLICATION">git-external-diff</SPAN>脚本到
<TT CLASS="FILENAME">src/tools</TT> (Bruce Momjian)</P><P> 这用于产生来自git的语境差异。</P></LI><LI><P> 提高支持编译<SPAN CLASS="APPLICATION">Clang</SPAN> (Peter Eisentraut)</P></LI></UL><DIV CLASS="SECT4"><H4 CLASS="SECT4"><A NAME="AEN119747">E.19.3.12.1. 服务器钩</A></H4><P></P><UL><LI><P> 添加源代码钩检查权限(Robert Haas，Stephen Frost)</P></LI><LI><P> 出于使用安全框架添加后对象创建函数钩(KaiGai Kohei)</P></LI><LI><P> 添加客户端认证钩(KaiGai Kohei)</P></LI></UL></DIV></DIV><DIV CLASS="SECT3"><H3 CLASS="SECT3"><A NAME="AEN119756">E.19.3.13. Contrib</A></H3><P></P><UL><LI><P> 修改<TT CLASS="FILENAME">contrib</TT>模块和程序语言通过新的
<A HREF="extend-extensions.html">扩展</A>
机制安装(Tom Lane, Dimitri Fontaine)</P></LI><LI><P> 添加<A HREF="file-fdw.html"><TT CLASS="FILENAME">contrib/file_fdw</TT></A>
外数据包(Shigeru Hanada)</P><P> 外表使用这个外数据包可以以类似于<TT CLASS="COMMAND">COPY</TT>的方式读取平文件。</P></LI><LI><P> 添加最近邻搜索支持
<A HREF="pgtrgm.html"><TT CLASS="FILENAME">contrib/pg_trgm</TT></A>和
<A HREF="btree-gist.html"><TT CLASS="FILENAME">contrib/btree_gist</TT></A>
(Teodor Sigaev)</P></LI><LI><P> 添加<A HREF="btree-gist.html"><TT CLASS="FILENAME">contrib/btree_gist</TT></A>
支持不平等搜索(Jeff Davis)</P></LI><LI><P> 修复
<A HREF="fuzzystrmatch.html"><TT CLASS="FILENAME">contrib/fuzzystrmatch</TT></A>的
<CODE CLASS="FUNCTION">levenshtein()</CODE>函数以处理多字节字符(Alexander Korotkov)</P></LI><LI><P> 添加<CODE CLASS="FUNCTION">ssl_cipher()</CODE> and <CODE CLASS="FUNCTION">ssl_version()</CODE>
函数到<A HREF="sslinfo.html"><TT CLASS="FILENAME">contrib/sslinfo</TT></A>
(Robert Haas)</P></LI><LI><P> 修复 <A HREF="intarray.html"><TT CLASS="FILENAME">contrib/intarray</TT></A>
和<A HREF="hstore.html"><TT CLASS="FILENAME">contrib/hstore</TT></A>
提供与索引空数组一致结果(Tom Lane)</P><P> 先前使用索引的空数组查询可能返回使用顺序扫描的不同结果。</P></LI><LI><P> 允许<A HREF="intarray.html"><TT CLASS="FILENAME">contrib/intarray</TT></A>
恰当工作在多维数组上(Tom Lane)</P></LI><LI><P> 在<A HREF="intarray.html"><TT CLASS="FILENAME">contrib/intarray</TT></A>上，
避免在没有空值实际存在的情况下抱怨空值存在的错误(Tom Lane)</P></LI><LI><P> 在<A HREF="intarray.html"><TT CLASS="FILENAME">contrib/intarray</TT></A>中，
修复关于空数组包含操作符操作(Tom Lane)</P><P> 空数组现在正确地认为被包含在任何其他数组中。</P></LI><LI><P> 删除通过<CODE CLASS="FUNCTION">xslt_process()</CODE>处理的
<TT CLASS="REPLACEABLE"><I>parameter</I></TT>=<TT CLASS="REPLACEABLE"><I>value</I></TT>对数上
<A HREF="xml2.html"><TT CLASS="FILENAME">contrib/xml2</TT></A>的任意限制(Pavel Stehule)</P><P> 以前限制是10。</P></LI><LI><P> 在<A HREF="pageinspect.html"><TT CLASS="FILENAME">contrib/pageinspect</TT></A>中，
修复heap_page_item以返回32位值的infomask(Alvaro Herrera)</P><P> 这避免返回负值，这是混乱的。
该潜在值是16位无符号整数。</P></LI></UL><DIV CLASS="SECT4"><H4 CLASS="SECT4"><A NAME="AEN119823">E.19.3.13.1. 安全</A></H4><P></P><UL><LI><P> 添加<A HREF="sepgsql.html"><TT CLASS="FILENAME">contrib/sepgsql</TT></A>
连接与<ACRONYM CLASS="ACRONYM">SELinux</ACRONYM>的权限检查(KaiGai Kohei)</P><P> 这使用新的
<A HREF="sql-security-label.html"><TT CLASS="COMMAND">SECURITY LABEL</TT></A>
功能。</P></LI><LI><P> 添加contrib模块
<A HREF="auth-delay.html"><TT CLASS="FILENAME">auth_delay</TT></A>
(KaiGai Kohei)</P><P> 在返回认证失败之前导致服务器暂停；
设计它使得蛮力密码攻击更加困难。&#13;</P></LI><LI><P> 添加<A HREF="dummy-seclabel.html"><TT CLASS="FILENAME">dummy_seclabel</TT></A>
contrib模块(KaiGai Kohei)</P><P> 这用于允许回归测试。</P></LI></UL></DIV><DIV CLASS="SECT4"><H4 CLASS="SECT4"><A NAME="AEN119844">E.19.3.13.2. 性能</A></H4><P></P><UL><LI><P> 添加支持<TT CLASS="LITERAL">LIKE</TT> and <TT CLASS="LITERAL">ILIKE</TT>索引搜索到
<A HREF="pgtrgm.html"><TT CLASS="FILENAME">contrib/pg_trgm</TT></A>
(Alexander Korotkov)</P></LI><LI><P> 添加<CODE CLASS="FUNCTION">levenshtein_less_equal()</CODE>函数到
<A HREF="fuzzystrmatch.html"><TT CLASS="FILENAME">contrib/fuzzystrmatch</TT></A>，
这是对小距离的优化(Alexander Korotkov)</P></LI><LI><P> 提高
<A HREF="seg.html"><TT CLASS="FILENAME">contrib/seg</TT></A>上索引查找性能
(Alexander Korotkov)</P></LI><LI><P> 提高许多关系数据库
<A HREF="pgupgrade.html"><SPAN CLASS="APPLICATION">pg_upgrade</SPAN></A>
的性能(Bruce Momjian)</P></LI><LI><P> 添加标记到
<A HREF="pgbench.html"><TT CLASS="FILENAME">contrib/pgbench</TT></A>
以报告每个语句延迟(Florian Pflug)</P></LI></UL></DIV><DIV CLASS="SECT4"><H4 CLASS="SECT4"><A NAME="AEN119870">E.19.3.13.3. Fsync测试</A></H4><P></P><UL><LI><P> 移动<TT CLASS="FILENAME">src/tools/test_fsync</TT>到
<A HREF="pgtestfsync.html"><TT CLASS="FILENAME">contrib/pg_test_fsync</TT></A>
(Bruce Momjian, Tom Lane)</P></LI><LI><P> 添加<TT CLASS="LITERAL">O_DIRECT</TT>支持到
<A HREF="pgtestfsync.html"><TT CLASS="FILENAME">contrib/pg_test_fsync</TT></A>
(Bruce Momjian)</P><P> 这匹配通过
<A HREF="runtime-config-wal.html#GUC-WAL-SYNC-METHOD"><TT CLASS="VARNAME">wal_sync_method</TT></A>
的<TT CLASS="LITERAL">O_DIRECT</TT>的使用。</P></LI><LI><P> 添加新的测试给
<A HREF="pgtestfsync.html"><TT CLASS="FILENAME">contrib/pg_test_fsync</TT></A>
(Bruce Momjian)</P></LI></UL></DIV></DIV><DIV CLASS="SECT3"><H3 CLASS="SECT3"><A NAME="AEN119891">E.19.3.14. 文档</A></H3><P></P><UL><LI><P> 广泛的<A HREF="http://school.yunwei.edu/manual/PostgreSQL/ecpg.html"><SPAN CLASS="APPLICATION">ECPG</SPAN></A>
文档改进(Satoshi Nagayasu)</P></LI><LI><P>广泛的校对和文档改进
(Thom Brown, Josh Kupershmidt, Susanne Ebrecht)</P></LI><LI><P> 为<A HREF="runtime-config-error-handling.html#GUC-EXIT-ON-ERROR"><TT CLASS="VARNAME">exit_on_error</TT></A>
添加文档(Robert Haas) </P><P> 这个参数导致会话有任何错误就退出。</P></LI><LI><P> 为<A HREF="functions-info.html#FUNCTIONS-INFO-CATALOG-TABLE"><CODE CLASS="FUNCTION">pg_options_to_table()</CODE></A>
添加文档(Josh Berkus)</P><P> 这个函数显示了可读形式中表存储选项。</P></LI><LI><P> 文档可以访问使用
<A HREF="sql-expressions.html#FIELD-SELECTION"><TT CLASS="LITERAL">(compositeval).*</TT></A>
语法的所有复合类型字段(Peter Eisentraut)</P></LI><LI><P> 文档<A HREF="functions-string.html#FUNCTIONS-STRING-OTHER"><CODE CLASS="FUNCTION">translate()</CODE></A>
删除没有相应的<TT CLASS="LITERAL">to</TT>字符的<TT CLASS="LITERAL">from</TT>中字符(Josh Kupershmidt)</P></LI><LI><P> 为<TT CLASS="COMMAND">CREATE CONSTRAINT TRIGGER</TT>和
<A HREF="sql-createtrigger.html"><TT CLASS="COMMAND">CREATE TRIGGER</TT></A>
合并文档(Alvaro Herrera)</P></LI><LI><P> 集中<A HREF="ddl-priv.html">权限</A>和
<A HREF="upgrading.html">升级</A>文档(Bruce Momjian)</P></LI><LI><P> 为Solaris 10添加<A HREF="kernel-resources.html#SYSVIPC-PARAMETERS">内核调整记录</A>
(Josh Berkus)</P><P> 先前只有Solaris 9 内核调整被记录。</P></LI><LI><P> 一致地处理<TT CLASS="FILENAME">HISTORY</TT>文件中的非ASCII字符(Peter Eisentraut)</P><P> 当<TT CLASS="FILENAME">HISTORY</TT>文件是英语，
我们必须处理参与者名字中非ASCII字母。
这些目前是音译的，
因此它们没有关于字符集假设相当易读。</P></LI></UL></DIV></DIV></DIV><DIV CLASS="NAVFOOTER"><HR ALIGN="LEFT" WIDTH="100%"><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="release-9-1-1.html" ACCESSKEY="P">&#19978;&#19968;&#39029;</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html" ACCESSKEY="H">&#36215;&#22987;&#39029;</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="release-9-0-14.html" ACCESSKEY="N">&#19979;&#19968;&#39029;</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top">发布9.1.1</TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/release.html" ACCESSKEY="U">&#19978;&#19968;&#32423;</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top">版本 9.0.14</TD></TR></TABLE></DIV></BODY></HTML>
