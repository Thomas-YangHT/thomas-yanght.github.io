<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML><HEAD><TITLE>版本 8.2.13</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK REV="MADE" HREF="mailto:pgsql-docs@postgresql.org"><LINK REL="HOME" TITLE="PostgreSQL 9.3.1 中文手册" HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html"><LINK REL="UP" TITLE="版本说明" HREF="http://school.yunwei.edu/manual/PostgreSQL/release.html"><LINK REL="PREVIOUS" TITLE="版本 8.2.14" HREF="release-8-2-14.html"><LINK REL="NEXT" TITLE="版本 8.2.12" HREF="release-8-2-12.html"><LINK REL="STYLESHEET" TYPE="text/css" HREF="http://school.yunwei.edu/manual/PostgreSQL/stylesheet.css"><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8"><META NAME="creation" CONTENT="2015-07-11T14:00:17"></HEAD><BODY CLASS="SECT1">
<div style="text-align:right">
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/issues/new" target="_blank" title="在Github上报告问题（请注明问题内容及所在章节）">问题报告</a>
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/edit/master/postgresql/doc/src/sgml/release-8.2.sgml" target="_blank" title="直接在Github上纠错本页面">纠错本页面</a>
</div>
<DIV CLASS="NAVHEADER"><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0"><TR><TH COLSPAN="5" ALIGN="center" VALIGN="bottom"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html">PostgreSQL 9.3.1 中文手册</A></TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="top"><A TITLE="版本 8.2.14" HREF="release-8-2-14.html" ACCESSKEY="P">&#19978;&#19968;&#39029;</A></TD><TD WIDTH="10%" ALIGN="left" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/release.html" ACCESSKEY="U">&#19978;&#19968;&#32423;</A></TD><TD WIDTH="60%" ALIGN="center" VALIGN="bottom">&#38468;&#24405; E. 版本说明</TD><TD WIDTH="20%" ALIGN="right" VALIGN="top"><A TITLE="版本 8.2.12" HREF="release-8-2-12.html" ACCESSKEY="N">&#19979;&#19968;&#39029;</A></TD></TR></TABLE><HR ALIGN="LEFT" WIDTH="100%"></DIV><DIV CLASS="SECT1"><H1 CLASS="SECT1"><A NAME="RELEASE-8-2-13">E.88. 版本 8.2.13</A></H1><DIV CLASS="NOTE"><BLOCKQUOTE CLASS="NOTE"><P><B>发布日期: </B>2009-03-16</P></BLOCKQUOTE></DIV><P>这个版本包含各种自8.2.12以来的修复。关于8.2主版本的新特性信息，
请查看<A HREF="release-8-2.html">第 E.101 &#33410;</A>。</P><DIV CLASS="SECT2"><H2 CLASS="SECT2"><A NAME="AEN131226">E.88.1. 迁移到版本 8.2.13</A></H2><P>运行8.2.X的用户不需要转储/恢复。不过，如果你是从一个早于8.2.11的版本升级而来，
那么请查看8.2.11的版本声明。</P></DIV><DIV CLASS="SECT2"><H2 CLASS="SECT2"><A NAME="AEN131229">E.88.2. 修改列表</A></H2><P></P><UL><LI><P>当编码转换失败时，阻止错误的递归崩溃 (Tom)</P><P>这个修改扩展了在最后两个小版本中为相关的失败情节所做的修复。
以前的修复严格限制在最初的问题报告，但是我们现在意识到编码转换函数抛出的
<SPAN CLASS="emphasis"><I CLASS="EMPHASIS">任何</I></SPAN>错误会潜在的在尝试报告错误时导致无限的递归。
因此解决方法是在我们发现我们进入一个递归错误报告情况时，禁用翻译和编码转换，
并为任何错误消息报告纯ASCII格式。 (CVE-2009-0922)</P></LI><LI><P>为指定的转换函数禁用带有错误编码的<TT CLASS="COMMAND">CREATE CONVERSION</TT> (Heikki)</P><P>这阻止了编码转换失败的一个可能的情节。以前的修改是为了防范相同地区的其他类型的失败。</P></LI><LI><P>修复给到<CODE CLASS="FUNCTION">to_char()</CODE>的格式代码不适合数据参数的类型时的内核转储 (Tom)</P></LI><LI><P>修复C环境使用多字节编码时<TT CLASS="FILENAME">contrib/tsearch2</TT>中可能的失败 (Teodor)</P><P>在<TT CLASS="TYPE">wchar_t</TT>比<TT CLASS="TYPE">int</TT>狭窄的平台上有可能会崩溃；尤其是Windows。</P></LI><LI><P>修复<TT CLASS="FILENAME">contrib/tsearch2</TT>分析器处理包含多个<TT CLASS="LITERAL">@</TT>
字符的类似邮箱的字符串时的极端低效 (Heikki)</P></LI><LI><P>修复带有隐式强制的<TT CLASS="LITERAL">CASE WHEN</TT>的反编译 (Tom)</P><P>当尝试检测或转储一个视图时，这个错误在启用断言的建立中会导致断言失败，
或其他情况下的一个<SPAN CLASS="QUOTE">"意外的CASE WHEN子句"</SPAN>错误消息。</P></LI><LI><P>修复可能的TOAST表的行类型所有者的错误分配 (Tom)</P><P>如果<TT CLASS="COMMAND">CLUSTER</TT>或<TT CLASS="COMMAND">ALTER TABLE</TT>的一个重写变体被除表所有者之外的一个人执行，
那么该表的TOAST表的<TT CLASS="STRUCTNAME">pg_type</TT>项将被标记为这个人所有而结束。
这没有造成直接的问题，因为TOAST行类型上的权限不是被任何普通数据库操作检测的。
不过，如果一个人稍后尝试删除发出该命令的角色，那么它会导致意外的失败（在8.1或8.2中），
或在这样做后来自<SPAN CLASS="APPLICATION">pg_dump</SPAN>的<SPAN CLASS="QUOTE">"数据类型的所有者看起来无效"</SPAN>
警告（在8.3中）。</P></LI><LI><P>修复PL/pgSQL，不要将字符串中任何地方的<TT CLASS="COMMAND">INSERT</TT>之后的<TT CLASS="LITERAL">INTO</TT>
看做INTO变量子句，不只是在字符串开头的位置；特别的，不要在<TT CLASS="COMMAND">CREATE RULE</TT>
中的<TT CLASS="COMMAND">INSERT INTO</TT>处失败 (Tom)</P></LI><LI><P>在块完全退出时清理PL/pgSQL的错误状态变量 (Ashesh Vashi 和 Dave Page)</P><P>这对于PL/pgSQL本身来说不是什么问题，
但是该疏忽会引起PL/pgSQL调试器在检测一个函数的状态时崩溃。</P></LI><LI><P>在Windows上重试到<CODE CLASS="FUNCTION">CallNamedPipe()</CODE>的失败的调用 (Steve Marshall, Magnus)</P><P>看起来这个函数有时会有暂时性的失败；我们以前将任何失败看做系统错误，
这会混淆<TT CLASS="COMMAND">LISTEN</TT>/<TT CLASS="COMMAND">NOTIFY</TT>和其他操作。</P></LI><LI><P>添加<TT CLASS="LITERAL">MUST</TT> (Mauritius Island Summer Time) 到已知的时区缩写的缺省列表
(Xavier Bugaud)</P></LI></UL></DIV></DIV><DIV CLASS="NAVFOOTER"><HR ALIGN="LEFT" WIDTH="100%"><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="release-8-2-14.html" ACCESSKEY="P">&#19978;&#19968;&#39029;</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html" ACCESSKEY="H">&#36215;&#22987;&#39029;</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="release-8-2-12.html" ACCESSKEY="N">&#19979;&#19968;&#39029;</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top">版本 8.2.14</TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/release.html" ACCESSKEY="U">&#19978;&#19968;&#32423;</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top">版本 8.2.12</TD></TR></TABLE></DIV></BODY></HTML>
