<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML><HEAD><TITLE>发布8.3.4</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK REV="MADE" HREF="mailto:pgsql-docs@postgresql.org"><LINK REL="HOME" TITLE="PostgreSQL 9.3.1 中文手册" HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html"><LINK REL="UP" TITLE="版本说明" HREF="http://school.yunwei.edu/manual/PostgreSQL/release.html"><LINK REL="PREVIOUS" TITLE="发布8.3.5" HREF="release-8-3-5.html"><LINK REL="NEXT" TITLE="发布8.3.3" HREF="release-8-3-3.html"><LINK REL="STYLESHEET" TYPE="text/css" HREF="http://school.yunwei.edu/manual/PostgreSQL/stylesheet.css"><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8"><META NAME="creation" CONTENT="2015-07-11T14:00:17"></HEAD><BODY CLASS="SECT1">
<div style="text-align:right">
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/issues/new" target="_blank" title="在Github上报告问题（请注明问题内容及所在章节）">问题报告</a>
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/edit/master/postgresql/doc/src/sgml/release-8.3.sgml" target="_blank" title="直接在Github上纠错本页面">纠错本页面</a>
</div>
<DIV CLASS="NAVHEADER"><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0"><TR><TH COLSPAN="5" ALIGN="center" VALIGN="bottom"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html">PostgreSQL 9.3.1 中文手册</A></TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="top"><A TITLE="发布8.3.5" HREF="release-8-3-5.html" ACCESSKEY="P">&#19978;&#19968;&#39029;</A></TD><TD WIDTH="10%" ALIGN="left" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/release.html" ACCESSKEY="U">&#19978;&#19968;&#32423;</A></TD><TD WIDTH="60%" ALIGN="center" VALIGN="bottom">&#38468;&#24405; E. 版本说明</TD><TD WIDTH="20%" ALIGN="right" VALIGN="top"><A TITLE="发布8.3.3" HREF="release-8-3-3.html" ACCESSKEY="N">&#19979;&#19968;&#39029;</A></TD></TR></TABLE><HR ALIGN="LEFT" WIDTH="100%"></DIV><DIV CLASS="SECT1"><H1 CLASS="SECT1"><A NAME="RELEASE-8-3-4">E.73. 发布8.3.4</A></H1><DIV CLASS="NOTE"><BLOCKQUOTE CLASS="NOTE"><P><B>发布日期: </B>2008-09-22</P></BLOCKQUOTE></DIV><P> 该发布包含来自8.3.3中各种修复。关于8.3主要发布中新特性信息，
参阅<A HREF="release-8-3.html">第 E.77 &#33410;</A>。</P><DIV CLASS="SECT2"><H2 CLASS="SECT2"><A NAME="AEN128803">E.73.1. 迁移到版本8.3.4</A></H2><P> 运行8.3.X不需要备份/恢复。然而，如果从8.3.1更早版本更新，参阅8.3.1发布说明。</P></DIV><DIV CLASS="SECT2"><H2 CLASS="SECT2"><A NAME="AEN128806">E.73.2. 变化</A></H2><P></P><UL><LI><P> 修复btree WAL恢复编码中错误(Heikki)</P><P> 如果通过页拆分操作中途结束WAL，那么恢复失败。</P></LI><LI><P> 修复为HOT页修剪错误截断XID的潜在使用(Alvaro)</P><P> 这个错误产生通过<TT CLASS="COMMAND">VACUUM</TT>查阅的系统目录损坏风险：
死的元组版本可能太早被删除。
在实际数据库操作中的影响可能最小，
因为当检查目录的时候，该系统并不遵循MVCC规则，
但它可能会从<SPAN CLASS="APPLICATION">pg_dump</SPAN>或其它客户端程序输出中导致瞬时错误。&#13;</P></LI><LI><P> 修复<TT CLASS="STRUCTFIELD">datfrozenxid</TT>的潜在错误计算(Alvaro)</P><P> 这个错误可能解释了删除旧的<TT CLASS="STRUCTNAME">pg_clog</TT>数据一些错误报告。</P></LI><LI><P> 在<TT CLASS="STRUCTNAME">pg_class</TT>重新被索引之后修复不正确的HOT更新(Tom)</P><P> 如果在同一会话中<TT CLASS="LITERAL">REINDEX TABLE pg_class</TT>伴随<TT CLASS="LITERAL">ALTER TABLE RENAME</TT>或者
<TT CLASS="LITERAL">ALTER TABLE SET SCHEMA</TT>命令，可能发生<TT CLASS="STRUCTNAME">pg_class</TT>损坏。</P></LI><LI><P> 修复丢失的<SPAN CLASS="QUOTE">"combo cid"</SPAN>情况(Karl Schnaitter) </P><P>&#13; 这个错误使得行对于通过所有终止的多个子事务已经删除的事务不可见。 </P></LI><LI><P> 如果该表目前的检查在错误的时间被删除，
那么避免自动清理崩溃(Alvaro)</P></LI><LI><P> 从32位到64位扩展本地锁计数器(Tom)</P><P> 该反馈是计数器可能在相当长事务中溢出，导致意想不到的<SPAN CLASS="QUOTE">"持有锁"</SPAN>错误。 </P></LI><LI><P> 修复GiST索引扫描期间元组的重复输出(Teodor)</P></LI><LI><P> 当修改任何一个表的时候，从头回收外键检查查询(Tom)</P><P> 之前，8.3可能尝试重新规划查询，但是可能操作之前生产的查询文本。
如果重命名表或者列，那么导致错误。 </P></LI><LI><P> 当视图包含一个简单的<TT CLASS="LITERAL">UNION ALL</TT>结构的时候，
修复丢失的权限检查(Heikki)</P><P> 正确检查引用表权限，但不是视图本身权限。</P></LI><LI><P> 在执行器启动中添加检查以确保通过<TT CLASS="COMMAND">INSERT</TT>或者<TT CLASS="COMMAND">UPDATE</TT>
产生的元组匹配目标表的当前行类型(Tom)</P><P> 这种情况在8.3中是不可能的，但是在以前版本中可以发生，所以检查似乎是谨慎的。</P></LI><LI><P> 修复<TT CLASS="COMMAND">DROP OWNED</TT>期间可能的重复删除(Tom)</P><P> 这通常会导致奇怪错误比如<SPAN CLASS="QUOTE">"对于关系NNN缓存查找失败"</SPAN>。</P></LI><LI><P> 修复XML操作中若干内存泄露(Kris Jurka, Tom)</P></LI><LI><P> 为不可接受的目标数据类型修复<CODE CLASS="FUNCTION">xmlserialize()</CODE>正确改善误差(Tom)</P></LI><LI><P> 修复文本搜索配置文件解析中错误处理多字节字符的地方(Tom)</P><P> 配置文件中出现的某些字符总是引起<SPAN CLASS="QUOTE">"无效字节序列编码"</SPAN>错误。</P></LI><LI><P> 为文本搜索配置文件中报道的所有错误提供文件名和行号位置(Tom)</P></LI><LI><P> 修复<TT CLASS="LITERAL">AT TIME ZONE</TT>首先尝试解析它的时区参数为时区缩写，
并且如果失败，则尝试作为完整时区名，而不是之前的其它方式(Tom)</P><P> 时间戳输入函数一直按此顺序解决模棱两可的区域名称。
采用<TT CLASS="LITERAL">AT TIME ZONE</TT>这样做提高了一致性，并且修复了8.1引入的一个兼容性错误：
在模棱两可的情况下，我们现在操作和8.0以及以前的操作都是一样的，
因为在旧版本中<TT CLASS="LITERAL">AT TIME ZONE</TT>接受<SPAN CLASS="emphasis"><I CLASS="EMPHASIS">only</I></SPAN>缩写。&#13;</P></LI><LI><P> 当在64位平台上运行的时候，修复datetime输入函数以正确检测整数溢出(Tom)</P></LI><LI><P> 当显示有单位的配置参数的时候，防止单位换算期间整数溢出(Tom)</P></LI><LI><P> 改善写很长日志信息到syslog的性能(Tom) </P></LI><LI><P> 允许<TT CLASS="FILENAME">pg_hba.conf</TT>中LDAP URL的后缀部分空格(Tom) </P></LI><LI><P> 修复<TT CLASS="LITERAL">SELECT DISTINCT ON</TT>查询上游标向后扫描中的错误(Tom)</P></LI><LI><P> 修复规划器错误可能不正确地推翻外部连接下面的<TT CLASS="LITERAL">IS NULL</TT>测试(Tom) </P><P>&#13; 在大写<TT CLASS="LITERAL">OR</TT>子句的基础上通过<TT CLASS="LITERAL">IS NULL</TT>测试同一关系触发。
</P></LI><LI><P> 修复嵌套子select表达式规划器错误(Tom)</P><P> 如果外部子select对父查询没有直接相关性，但内部确实如此，
可能不会为新的父查询行计算外部值。 </P></LI><LI><P> 修复规划器以估计产生布尔结果的<TT CLASS="LITERAL">GROUP BY</TT>表达式总是产生两组，
不管表达式的内容(Tom)</P><P> 比起规则<TT CLASS="LITERAL">GROUP BY</TT>评估某个布尔测试像<TT CLASS="REPLACEABLE"><I>col</I></TT><TT CLASS="LITERAL">IS NULL</TT>来说
更加准确。 </P></LI><LI><P> 当<TT CLASS="LITERAL">FOR</TT>循环的目标变量是包含复合类型字段的记录，修复
PL/pgSQL而不失败(Tom)</P></LI><LI><P> 修复PL/Tcl以正确操作Tcl 8.5，
并且更加小心数据编码发送的或者来自Tcl的(Tom)</P></LI><LI><P> 提高<CODE CLASS="FUNCTION">PQescapeBytea()</CODE>的性能(Rudolf Leitgeb)</P></LI><LI><P> 在Windows上，通过避免<SPAN CLASS="APPLICATION">libpq</SPAN>尝试发送超过64KB每个系统调用解决Microsoft错误(Magnus)</P></LI><LI><P> 修复<SPAN CLASS="APPLICATION">ecpg</SPAN>正确处理<TT CLASS="COMMAND">SET</TT>命令中变量(Michael)</P></LI><LI><P> 在错误发送一个SQL命令之后完善<SPAN CLASS="APPLICATION">pg_dump</SPAN>和<SPAN CLASS="APPLICATION">pg_restore</SPAN>的错误报告(Tom)</P></LI><LI><P> 修复<SPAN CLASS="APPLICATION">pg_ctl</SPAN>以正确保存通过<TT CLASS="LITERAL">restart</TT>的postmaster命令行参数(Bruce)</P></LI><LI><P> 修复<SPAN CLASS="APPLICATION">pg_standby</SPAN>中错误的WAL文件截止点计算(Simon)</P></LI><LI><P> （为 Argentina, Bahamas, Brazil, Mauritius, Morocco,Pakistan, Palestine和Paraguay中DST变化）
更新时区数据文件到 <SPAN CLASS="APPLICATION">tzdata</SPAN>发布2008f。</P></LI></UL></DIV></DIV><DIV CLASS="NAVFOOTER"><HR ALIGN="LEFT" WIDTH="100%"><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="release-8-3-5.html" ACCESSKEY="P">&#19978;&#19968;&#39029;</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html" ACCESSKEY="H">&#36215;&#22987;&#39029;</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="release-8-3-3.html" ACCESSKEY="N">&#19979;&#19968;&#39029;</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top">发布8.3.5</TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/release.html" ACCESSKEY="U">&#19978;&#19968;&#32423;</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top">发布8.3.3</TD></TR></TABLE></DIV></BODY></HTML>
