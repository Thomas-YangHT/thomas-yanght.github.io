<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML><HEAD><TITLE>版本 8.1.17</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK REV="MADE" HREF="mailto:pgsql-docs@postgresql.org"><LINK REL="HOME" TITLE="PostgreSQL 9.3.1 中文手册" HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html"><LINK REL="UP" TITLE="版本说明" HREF="http://school.yunwei.edu/manual/PostgreSQL/release.html"><LINK REL="PREVIOUS" TITLE="版本 8.1.18" HREF="release-8-1-18.html"><LINK REL="NEXT" TITLE="版本 8.1.16" HREF="release-8-1-16.html"><LINK REL="STYLESHEET" TYPE="text/css" HREF="http://school.yunwei.edu/manual/PostgreSQL/stylesheet.css"><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8"><META NAME="creation" CONTENT="2015-07-11T14:00:17"></HEAD><BODY CLASS="SECT1">
<div style="text-align:right">
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/issues/new" target="_blank" title="在Github上报告问题（请注明问题内容及所在章节）">问题报告</a>
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/edit/master/postgresql/doc/src/sgml/release-8.1.sgml" target="_blank" title="直接在Github上纠错本页面">纠错本页面</a>
</div>
<DIV CLASS="NAVHEADER"><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0"><TR><TH COLSPAN="5" ALIGN="center" VALIGN="bottom"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html">PostgreSQL 9.3.1 中文手册</A></TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="top"><A TITLE="版本 8.1.18" HREF="release-8-1-18.html" ACCESSKEY="P">&#19978;&#19968;&#39029;</A></TD><TD WIDTH="10%" ALIGN="left" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/release.html" ACCESSKEY="U">&#19978;&#19968;&#32423;</A></TD><TD WIDTH="60%" ALIGN="center" VALIGN="bottom">&#38468;&#24405; E. 版本说明</TD><TD WIDTH="20%" ALIGN="right" VALIGN="top"><A TITLE="版本 8.1.16" HREF="release-8-1-16.html" ACCESSKEY="N">&#19979;&#19968;&#39029;</A></TD></TR></TABLE><HR ALIGN="LEFT" WIDTH="100%"></DIV><DIV CLASS="SECT1"><H1 CLASS="SECT1"><A NAME="RELEASE-8-1-17">E.108. 版本 8.1.17</A></H1><DIV CLASS="NOTE"><BLOCKQUOTE CLASS="NOTE"><P><B>发布日期: </B>2009-03-16</P></BLOCKQUOTE></DIV><P>这个版本包含各种自8.1.16以来的修复。关于8.1主版本的新特性信息，
请查看<A HREF="release-8-1.html">第 E.125 &#33410;</A>。</P><DIV CLASS="SECT2"><H2 CLASS="SECT2"><A NAME="AEN133769">E.108.1. 迁移到版本 8.1.17</A></H2><P>运行8.1.X的用户不需要转储/恢复。不过，
如果你是从一个早于8.1.15的版本升级而来，那么请查看8.1.15的版本声明。</P></DIV><DIV CLASS="SECT2"><H2 CLASS="SECT2"><A NAME="AEN133772">E.108.2. 修改列表</A></H2><P></P><UL><LI><P>当编码转换失败时，阻止错误递归崩溃 (Tom)</P><P>这个修改扩展了在最后两个小版本中对相关失败情节的修复。
以前的修复严格限制在原始的问题报告，但是我们现在意识到被编码转换函数抛出的
<SPAN CLASS="emphasis"><I CLASS="EMPHASIS">任何</I></SPAN>错误都潜在的导致在尝试报告该错误时无限的递归。
因此如果我们发现我们已经进入了一个递归错误报告的情节中，
解决方法是禁用翻译和编码转换，并且报告任何错误消息的纯ASCII格式。 (CVE-2009-0922)</P></LI><LI><P>不允许<TT CLASS="COMMAND">CREATE CONVERSION</TT>为指定的转换函数使用错误的编码 (Heikki)</P><P>这阻止了编码转换失败的一种可能的情况。以前的修改是防范了相同区域中的其他类型的失败。</P></LI><LI><P>修复给定<CODE CLASS="FUNCTION">to_char()</CODE>的格式化代码不适合数据参数的类型时的内核转储 (Tom)</P></LI><LI><P>修复<TT CLASS="LITERAL">CASE WHEN</TT>带有隐式强制时的反编译 (Tom)</P><P>在尝试检查或转储一个视图时，这个错误在启用断言的建立中会导致断言失败，
或在其他情况下的一个<SPAN CLASS="QUOTE">"意外的CASE WHEN子句"</SPAN>错误消息。</P></LI><LI><P>修复TOAST表行类型的所有者的可能的错误分配 (Tom)</P><P>如果<TT CLASS="COMMAND">CLUSTER</TT>或者<TT CLASS="COMMAND">ALTER TABLE</TT>的一个重写变体被表所有者之外的其他人执行，
该表的TOAST表的<TT CLASS="STRUCTNAME">pg_type</TT>项将被标记为属于这个其他人而结束。
这没有造成直接问题，因为TOAST行类型的权限不被任何普通数据库操作检查。
不过，如果一个人稍后尝试删除发出该命令的角色（在8.1或8.2中），它会导致意外的失败，
或者<SPAN CLASS="APPLICATION">pg_dump</SPAN>稍后也这样做时，导致<SPAN CLASS="QUOTE">"数据类型的所有者看起来无效"</SPAN>
的警告（在8.3中）。</P></LI><LI><P>在块退出时完全清理PL/pgSQL的错误状态变量 (Ashesh Vashi and Dave Page)</P><P>这对于PL/pgSQL本身来说不是一个问题，但是当检测一个函数的状态时，疏忽会导致PL/pgSQL调试器崩溃。</P></LI><LI><P>添加<TT CLASS="LITERAL">MUST</TT> (Mauritius Island Summer Time)到已知时区缩写的缺省列表 (Xavier Bugaud)</P></LI></UL></DIV></DIV><DIV CLASS="NAVFOOTER"><HR ALIGN="LEFT" WIDTH="100%"><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="release-8-1-18.html" ACCESSKEY="P">&#19978;&#19968;&#39029;</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html" ACCESSKEY="H">&#36215;&#22987;&#39029;</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="release-8-1-16.html" ACCESSKEY="N">&#19979;&#19968;&#39029;</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top">版本 8.1.18</TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/release.html" ACCESSKEY="U">&#19978;&#19968;&#32423;</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top">版本 8.1.16</TD></TR></TABLE></DIV></BODY></HTML>
