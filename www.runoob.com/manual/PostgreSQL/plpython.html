<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML><HEAD><TITLE>PL/Python - Python 过程语言</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK REV="MADE" HREF="mailto:pgsql-docs@postgresql.org"><LINK REL="HOME" TITLE="PostgreSQL 9.3.1 中文手册" HREF="https://school.yunwei.edu/manual/PostgreSQL/index.html"><LINK REL="UP" TITLE="服务器端编程" HREF="server-programming.html"><LINK REL="PREVIOUS" TITLE="后台PL/Perl" HREF="https://school.yunwei.edu/manual/PostgreSQL/plperl-under-the-hood.html"><LINK REL="NEXT" TITLE="Python 2 vs. Python 3" HREF="https://school.yunwei.edu/manual/PostgreSQL/plpython-python23.html"><LINK REL="STYLESHEET" TYPE="text/css" HREF="stylesheet.css"><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8"><META NAME="creation" CONTENT="2015-07-11T14:00:17"></HEAD><BODY CLASS="CHAPTER">
<div style="text-align:right">
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/issues/new" target="_blank" title="在Github上报告问题（请注明问题内容及所在章节）">问题报告</a>
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/edit/master/postgresql/doc/src/sgml/plpython.sgml" target="_blank" title="直接在Github上纠错本页面">纠错本页面</a>
</div>
<DIV CLASS="NAVHEADER"><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0"><TR><TH COLSPAN="5" ALIGN="center" VALIGN="bottom"><A HREF="https://school.yunwei.edu/manual/PostgreSQL/index.html">PostgreSQL 9.3.1 中文手册</A></TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="top"><A TITLE="后台PL/Perl" HREF="https://school.yunwei.edu/manual/PostgreSQL/plperl-under-the-hood.html" ACCESSKEY="P">&#19978;&#19968;&#39029;</A></TD><TD WIDTH="10%" ALIGN="left" VALIGN="top"><A HREF="server-programming.html" ACCESSKEY="U">&#19978;&#19968;&#32423;</A></TD><TD WIDTH="60%" ALIGN="center" VALIGN="bottom"></TD><TD WIDTH="20%" ALIGN="right" VALIGN="top"><A TITLE="Python 2 vs. Python 3" HREF="https://school.yunwei.edu/manual/PostgreSQL/plpython-python23.html" ACCESSKEY="N">&#19979;&#19968;&#39029;</A></TD></TR></TABLE><HR ALIGN="LEFT" WIDTH="100%"></DIV><DIV CLASS="CHAPTER"><H1><A NAME="PLPYTHON"></A>&#31456; 43. PL/Python - Python 过程语言</H1><DIV CLASS="TOC"><DL><DT><B>&#30446;&#24405;</B></DT><DT>43.1. <A HREF="https://school.yunwei.edu/manual/PostgreSQL/plpython-python23.html">Python 2 vs. Python 3</A></DT><DT>43.2. <A HREF="https://school.yunwei.edu/manual/PostgreSQL/plpython-funcs.html">PL/Python 函数</A></DT><DT>43.3. <A HREF="https://school.yunwei.edu/manual/PostgreSQL/plpython-data.html">数据值</A></DT><DD><DL><DT>43.3.1. <A HREF="https://school.yunwei.edu/manual/PostgreSQL/plpython-data.html#AEN60723">数据类型映射</A></DT><DT>43.3.2. <A HREF="https://school.yunwei.edu/manual/PostgreSQL/plpython-data.html#AEN60774">Null, None</A></DT><DT>43.3.3. <A HREF="https://school.yunwei.edu/manual/PostgreSQL/plpython-data.html#PLPYTHON-ARRAYS">Arrays, Lists</A></DT><DT>43.3.4. <A HREF="https://school.yunwei.edu/manual/PostgreSQL/plpython-data.html#AEN60792">复合类型</A></DT><DT>43.3.5. <A HREF="https://school.yunwei.edu/manual/PostgreSQL/plpython-data.html#AEN60821">设置返回函数</A></DT></DL></DD><DT>43.4. <A HREF="https://school.yunwei.edu/manual/PostgreSQL/plpython-sharing.html">共享数据</A></DT><DT>43.5. <A HREF="https://school.yunwei.edu/manual/PostgreSQL/plpython-do.html">匿名代码块</A></DT><DT>43.6. <A HREF="https://school.yunwei.edu/manual/PostgreSQL/plpython-trigger.html">触发器函数</A></DT><DT>43.7. <A HREF="https://school.yunwei.edu/manual/PostgreSQL/plpython-database.html">数据库访问</A></DT><DD><DL><DT>43.7.1. <A HREF="https://school.yunwei.edu/manual/PostgreSQL/plpython-database.html#AEN60958">数据库访问函数</A></DT><DT>43.7.2. <A HREF="https://school.yunwei.edu/manual/PostgreSQL/plpython-database.html#PLPYTHON-TRAPPING">捕获错误</A></DT></DL></DD><DT>43.8. <A HREF="https://school.yunwei.edu/manual/PostgreSQL/plpython-subtransaction.html">明确的子事务</A></DT><DD><DL><DT>43.8.1. <A HREF="https://school.yunwei.edu/manual/PostgreSQL/plpython-subtransaction.html#AEN61117">子事务内容管理器</A></DT><DT>43.8.2. <A HREF="https://school.yunwei.edu/manual/PostgreSQL/plpython-subtransaction.html#AEN61132">旧的Python版本</A></DT></DL></DD><DT>43.9. <A HREF="https://school.yunwei.edu/manual/PostgreSQL/plpython-util.html">实用函数</A></DT><DT>43.10. <A HREF="https://school.yunwei.edu/manual/PostgreSQL/plpython-envar.html">环境变量</A></DT></DL></DIV><P><SPAN CLASS="APPLICATION">PL/Python</SPAN>过程语言允许用
<A HREF="http://www.python.org" TARGET="_top">Python语言</A>编写
<SPAN CLASS="PRODUCTNAME">PostgreSQL</SPAN>函数。</P><P>要在特定数据库中安装PL/Python，使用<TT CLASS="LITERAL">CREATE EXTENSION plpythonu</TT>，
或者在命令行使用<TT CLASS="LITERAL">createlang plpythonu <TT CLASS="REPLACEABLE"><I>dbname</I></TT></TT>
（参见<A HREF="https://school.yunwei.edu/manual/PostgreSQL/plpython-python23.html">第 43.1 &#33410;</A>）。</P><DIV CLASS="TIP"><BLOCKQUOTE CLASS="TIP"><P><B>&#25552;&#31034;: </B>如果一门语言安装到了<TT CLASS="LITERAL">template1</TT>里面，那么随后创建的数据库都将会自动安装该语言。</P></BLOCKQUOTE></DIV><P>到<SPAN CLASS="PRODUCTNAME">PostgreSQL</SPAN> 7.4为止，PL/Python只能当作一种
<SPAN CLASS="QUOTE">"不可信"</SPAN>语言，意思是它没有提供任何限制用户可为与不可为的手段。
因此，它被重新命名为<TT CLASS="LITERAL">plpythonu</TT>。可信任的变量<TT CLASS="LITERAL">plpython</TT>
可能在将来又变的可用，如果在Python里开发了一个新的安全执行机制。
在不受信任的PL/Python中函数的作者必须注意函数不能用来做任何不想要做的事情，
因为它能做可以由一个作为数据库管理员登录的用户所做的任何事情。
只有超级用户可以在不受信任的语言如<TT CLASS="LITERAL">plpythonu</TT>中创建函数。</P><DIV CLASS="NOTE"><BLOCKQUOTE CLASS="NOTE"><P><B>&#27880;&#24847;: </B>使用源码包的用户必须在安装的过程中声明打开PL/Python的编译。
（更多信息参见安装操作指南）二进制包的用户可能会在独立的子包中找到PL/Python.</P></BLOCKQUOTE></DIV></DIV><DIV CLASS="NAVFOOTER"><HR ALIGN="LEFT" WIDTH="100%"><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="https://school.yunwei.edu/manual/PostgreSQL/plperl-under-the-hood.html" ACCESSKEY="P">&#19978;&#19968;&#39029;</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="https://school.yunwei.edu/manual/PostgreSQL/index.html" ACCESSKEY="H">&#36215;&#22987;&#39029;</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="https://school.yunwei.edu/manual/PostgreSQL/plpython-python23.html" ACCESSKEY="N">&#19979;&#19968;&#39029;</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top">后台PL/Perl</TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="server-programming.html" ACCESSKEY="U">&#19978;&#19968;&#32423;</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top">Python 2 vs. Python 3</TD></TR></TABLE></DIV></BODY></HTML>
